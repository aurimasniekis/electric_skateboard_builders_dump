# Hummie vs Devin (Volts conversion to amps)

### Replies: 370 Views: 13335

## \#1 Posted by: Hummie Posted at: 2016-07-30T16:28:40.642Z Reads: 680

```
Watts propel and amps for accelerating?  I'm still hoping we can figure out what a volt does in a motor.
```

---
## \#2 Posted by: devin Posted at: 2016-07-30T16:32:35.169Z Reads: 602

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#3 Posted by: devin Posted at: 2016-07-30T16:34:02.323Z Reads: 581

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#4 Posted by: Hummie Posted at: 2016-07-30T16:39:51.179Z Reads: 548

```
Ansomehow voltage gets converted to amps.  That's the part id like to know.  Tell me something I don't know
```

---
## \#5 Posted by: devin Posted at: 2016-07-30T16:41:54.302Z Reads: 528

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#6 Posted by: PB1 Posted at: 2016-07-30T16:45:12.093Z Reads: 492

```
You guys are crazy jumping at every thread. 

Volts are there to provide the amps...  If they have to be used.  Otherwise they are just there ...
```

---
## \#7 Posted by: Hummie Posted at: 2016-07-30T16:48:07.753Z Reads: 477

```
volts converted to amps

http://vedder.se/forums/viewtopic.php?f=5&t=45&start=10

I've been down this road before.
```

---
## \#8 Posted by: devin Posted at: 2016-07-30T16:51:27.431Z Reads: 464

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#9 Posted by: Hummie Posted at: 2016-07-30T16:57:08.433Z Reads: 432

```
Why do u tell me there longwinded basic elec explainations that aren't related to what I'm
saying.  Another water analogy?   How about how voltage in a motor is converted to torque.

Oo my god it's never ending
```

---
## \#10 Posted by: devin Posted at: 2016-07-30T16:57:11.645Z Reads: 414

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#11 Posted by: devin Posted at: 2016-07-30T16:58:04.989Z Reads: 407

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#12 Posted by: Hummie Posted at: 2016-07-30T17:02:07.140Z Reads: 395

```
Voltage is converted to amps.  Read what I linked.    This isn't the thread and it's been done before.  I just brought it ip because pb1 defined wattage and torque with vague wording and it brought it back up.  I'm done with it.
```

---
## \#13 Posted by: devin Posted at: 2016-07-30T17:03:48.181Z Reads: 386

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#14 Posted by: devin Posted at: 2016-07-30T17:07:13.833Z Reads: 392

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#15 Posted by: Hummie Posted at: 2016-07-30T17:11:07.088Z Reads: 375

```
Did u read what I linked?  I keep linking for you and it's not getting anywhere.  Vedder and Ren, who designed the vesc and a similar other esc, tell volts get converted to amps by the Vesc.  Argue with them in vedder's chat site, then come back and tell me how it works
```

---
## \#16 Posted by: devin Posted at: 2016-07-30T17:15:04.834Z Reads: 362

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#17 Posted by: Hummie Posted at: 2016-07-30T17:16:53.457Z Reads: 343

```
I'm repeatedly saying I don't know how it works but it's the case. Why so stubborn.  Just trying to send u the right way.

No it doesn't imply voltage is zero and conversion doesn't have to be complete.  We both know and hope U don't explain it again that it takes both components
```

---
## \#18 Posted by: devin Posted at: 2016-07-30T17:19:14.342Z Reads: 336

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#19 Posted by: brams Posted at: 2016-07-30T17:19:34.898Z Reads: 359

```
Vedder quote:
> The achieve the same performance on 200kv 6s as on 100kv 12s you have to double the current, which will generate four times more heat in the VESC for a given torque. The motor will not care much, but the simple answer is that the VESC is much better suited for 12s 100kv than 6s 200kv.

> As rew mentioned, if you are using far less current than the VESC can supply anyway it won't matter, but in this case I'm sure that you are using more current than that.

> Regarding running a motor on low modulation with high battery voltage, that is fine for the VESC. The phase current is what will cause heat. So if you have a 200kv motor and never run more than a certain speed where 6s is enough, 12s will work almost as well as 6s heat-wise and generate less heat in the cables between the battery and the VESC. Running on low modulation and high voltage will cause more ripple though, which make things slightly less efficient.

@devin has explained a lot of electric principles, added formulas, wiki quotes etc.. @Hummie You just keep quoting Vedder, who btw never said that volts are converted to amps. You seems very short sighted, and mostly driven by "experiences" you make. It's time to get a little more theorical. But If you just want to hijack EVERY SINGLE THREAD with your "Voltage is converted to amps"sentence based on no quote by vedder and saying that "you don't know how it is working", please stop replying.
```

---
## \#20 Posted by: Hummie Posted at: 2016-07-30T17:21:05.353Z Reads: 339

```
We're on different pages and ur on the same page repeatedly.  Just stop...check yourself...mull it over in your mind and say " do I really want to give more basic electricity examples to try to define a speed controller that's obviusly more complex.?"
```

---
## \#21 Posted by: Hummie Posted at: 2016-07-30T17:24:04.660Z Reads: 314

```
ok I'll get the quote for u since reading the link seems to much.  I keep bringing it up because it seemingly goes against BASIC electricity formulas.
```

---
## \#22 Posted by: devin Posted at: 2016-07-30T17:24:11.201Z Reads: 316

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#23 Posted by: Hummie Posted at: 2016-07-30T17:24:49.003Z Reads: 313

```
I don't know how it works.  That's what I'm asking.  But I will link it word for word for u
```

---
## \#24 Posted by: Hummie Posted at: 2016-07-30T17:26:59.626Z Reads: 310

```
Ren:
"Do you know transformers? 

You can transform 220V, 1A to 22V, 10A, right?

The VESC is doing the same, it is transforming 50V, 25A into 20.8V, 60A for your motor"
```

---
## \#25 Posted by: devin Posted at: 2016-07-30T17:29:48.284Z Reads: 303

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#26 Posted by: Hummie Posted at: 2016-07-30T17:36:58.681Z Reads: 301

```
I rest.  I quoted for u.   Said to specifically convert voltage to amps like a transformer.   Answer to that.  I do read links if u find one explaining how it works.  I'm here asking not telling more than that.
```

---
## \#27 Posted by: Mobutusan Posted at: 2016-07-30T17:37:54.086Z Reads: 312

```
@Hummie Volts and amps are two sides of the same coin or two characteristics that can't exist without each other. You can't only have one side without the other. And one "side" does not get converted to the other "side". I like the water analogy to visualize these electrical characteristics where the water pressure (electrical potential) is volts, and the size/diameter of the hose determines how much water (amps) can flow through that hose. This illustrates how pressure and flow are two totally different characteristics of the system, and can't get "converted" from one to the other. Here are some examples of how they relate to each other.

Garden hose (~6s) = low pressure (volts), low flow (amps)
Fire hose (~12s)  = high pressure (volts), high flow (amps)
Pressure washer (~24s?) = very high pressure (volts), low flow (amps)

I like to go one step further and imagine the hose diameter is flexible, like a ballon, to simulate a change in Amps, and the amount of Load on the system determines how large that hose or balloon diameter can get. At some point it will stretch too much and pop from too much Load drawing too much Power (pressure x flow) from the system. Conversely, at a small load, the hose will shrink to a very small size, and only require a small amount of flow at that pressure.

Here's a link to hopefully describe it much better than I can. 

https://learn.sparkfun.com/tutorials/voltage-current-resistance-and-ohms-law/voltage
```

---
## \#28 Posted by: Hummie Posted at: 2016-07-30T17:53:33.119Z Reads: 280

```
No more water analogies please:laughing:  I know ohm's law.  This is not basic electricity and it's been said by Vedder and Ren that the vesc converts/transforms voltage to amps for the motor.   Thems facts.  Anyone who can explain that more in detail id like to read from.
```

---
## \#29 Posted by: brams Posted at: 2016-07-30T17:55:15.707Z Reads: 277

```
Oh my god. Where is your VEDDER'S HOLY GRAIL QUOTE??
```

---
## \#30 Posted by: devin Posted at: 2016-07-30T18:10:00.044Z Reads: 289

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#31 Posted by: Hummie Posted at: 2016-07-30T18:12:35.005Z Reads: 264

```
jaroslavnovotny wrote:
"This is wrong. With more RPM the current the motor draws decreases, because torque decreases as rpm rises."

"You are talking about motors that are not relevant to the VESC." Ren
```

---
## \#32 Posted by: devin Posted at: 2016-07-30T18:17:08.159Z Reads: 259

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#33 Posted by: Hummie Posted at: 2016-07-30T18:17:32.610Z Reads: 258

```
Vedder:

What causes heat in both the motor and VESC is the motor current. Neither the motor nor the VESC care about the battery current, only the battery does. Also, the battery current can never be higher than the motor current. So when you set the current limits you should set the motor current to a suitable value for the motor and VESC. For setting the battery current you only have to look at the battery.


 On low speed the motor current is much higher than the battery current, and on full speed they are the same. This means that if you have very high top speed the VESC will get warm on low power levels when running on low speed. The faster you go, the less heat the VESC generates per power output because the motor current is what causes heat and the battery current is what defines power.

Regarding the motor getting hot under a given load, this has nothing to do with the kv, as I wrote a bit about here:
http://vedder.se/2014/10/chosing-the-ri ... kateboard/
so if you have a given motor with different kv choises and the same copper fill, all of them will generate exactly the same amount of heat going up a given hill at a given speed. Changing to a higher kv value and running on lower voltage and higher current does not change the heat generation of the motor one bit. The motor only cares about the torque it has to provide, regardless of the kv/current combination.
```

---
## \#34 Posted by: devin Posted at: 2016-07-30T18:20:53.494Z Reads: 238

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#35 Posted by: Hummie Posted at: 2016-07-30T18:22:24.834Z Reads: 233

```


"At low speed the motor current is much more than the battery current."

Are we going to argue with that from the designers mouth

There a battery amp limit and a motor amp limit you set on the vesc
```

---
## \#36 Posted by: devin Posted at: 2016-07-30T18:26:31.967Z Reads: 232

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#37 Posted by: Hummie Posted at: 2016-07-30T18:27:42.707Z Reads: 226

```
Ok tell vedder. I'm done.  Ur arguing with what he's said now and I've quoted it.  Nothing more for me to do.
```

---
## \#38 Posted by: devin Posted at: 2016-07-30T18:28:02.191Z Reads: 236

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#39 Posted by: brams Posted at: 2016-07-30T18:34:34.660Z Reads: 228

```
[quote="Hummie, post:43, topic:6855"]
I've quoted it.
[/quote]

Still didn't seen any quote on volts converting to amps, just read about motor pulling out more amps at low rpm because it needs more torque.
```

---
## \#40 Posted by: Hummie Posted at: 2016-07-30T18:37:21.669Z Reads: 223

```
"Motor current much more than battery current"
```

---
## \#41 Posted by: devin Posted at: 2016-07-30T18:39:10.637Z Reads: 200

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#42 Posted by: Hummie Posted at: 2016-07-30T18:41:00.845Z Reads: 201

```
There are three components.  Motor.  Esc.  Battery.  U set the current limit from the battery to esc.  You set the limit from esc to motor.  The current going to the esc can be much less than comes from esc to motor.

There is a formula and based on the speed ur at...the lower it is the more the voltage is converted to amps. 

"Transformer"- Ren.   Read above.
```

---
## \#43 Posted by: devin Posted at: 2016-07-30T18:44:45.018Z Reads: 198

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#44 Posted by: brams Posted at: 2016-07-30T18:47:49.740Z Reads: 206

```
http://vedder.se/forums/viewtopic.php?t=207
> No, the 50A may flow continuously, even with 5A battery current, (PWM increases the current and reduces the voltage seen by the motor)

> So the battery only sees 5A on average.... 
>  the motor will see 50A continuous

Motor Amps Limit can be higher than Battery Amps Limit because PWM modulates Volts.
```

---
## \#45 Posted by: brams Posted at: 2016-07-30T18:53:51.592Z Reads: 205

```
From Vedder
> The current draw from the battery will only be high on high duty cycles, so when going slowly you can have high torque and high motor current without drawing much from the battery since the motor inductance, input capacitors and PWM work like a switched mode power converter. For this to be safe you need and ESC with current control and/or current limiting. If the ESC does not measure and care about the current, you can get very high battery and motor currents when giving full throttle on low speed with hub motors and high battery voltage.

here https://endless-sphere.com/forums/viewtopic.php?f=35&t=73244&start=25
```

---
## \#46 Posted by: devin Posted at: 2016-07-30T18:54:15.935Z Reads: 193

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#47 Posted by: brams Posted at: 2016-07-30T18:55:17.323Z Reads: 191

```
No sinusoidal ?
```

---
## \#48 Posted by: Hummie Posted at: 2016-07-30T18:56:58.473Z Reads: 188

```
The link brams put one above says specifically that it's continuous 5amp from battery
```

---
## \#49 Posted by: devin Posted at: 2016-07-30T18:58:33.087Z Reads: 186

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#50 Posted by: Hummie Posted at: 2016-07-30T19:04:02.767Z Reads: 185

```
I don't think any of those are variables.  Simply stated if ur running at lower speed....volts gets converted to amps for the motor by the vesc
you've been driving me nuts telling me I'm wrong and don't know what I'm talking about for two weeks (we're neighbors) and constantly giving me water analogies or something !!!  And now ur saying there's other variables.  No variables.
```

---
## \#51 Posted by: mishrasubhransu Posted at: 2016-07-30T21:13:57.399Z Reads: 192

```
The flow of liquids in a pipe is analogous to flow of current in wires. Voltage is analogous to pressure and current to the volume of liquid flowing. Resistance can be thought of in terms of diameter of pipe.

If two containers are pressurized to same pressure and a pipe is connected between them, you wouldn't see any flow because the difference in pressure is =0. If tank A is at higher pressure than tank B then liquids flow from A to B and it is proportional to the pressure difference(voltage difference). Also if it proportional to diameter of pipe(or the resistance of wire). 
There are ways to think about conductance and inductance in similar ways, but it's a tiny bit more complex. 

So to answer your question @Hummie , the voltage difference between two points decide how much current flows though the wire(no conductance, no inductance, only resistance). The two voltage which are fighting each other are the battery voltage(fixed) and the back emf(proportional to rpm). As long as the battery voltage is higher than back emf, the difference in voltage is still there and hence current passes through the wires, that current produces magnetic field which in turn produces the torque in the motor. When the motor is spinning so fast that the back emf = battery voltage, the difference is zero and hence no current can be pushed though the coils anymore and hence no torque is produced. That is called the theoretical no load RPM. True no load rpm is less than theoretical  no load rpm because of friction losses.

What the VESC does now is control the battery voltage going to the motors. From zero to max battery voltage. You might ask what happens when the controlled battery voltage is less than the back emf, well braking happens.
```

---
## \#52 Posted by: PB1 Posted at: 2016-07-30T21:59:29.702Z Reads: 183

```

@ brams
No sinusoidal? 

No,  not in standard bldc mode.  This is what I have been saying all along.  You have to think two separate circuits,  the only link is  Watts (not voltage and not amps,  only Watts) 

One side is battery and esc input.  It's DC voltage of the battery and the amps are whatever is needed (if not constraint by anything). 

The other side is esc output and motor.  It's AC voltage.  And the voltage is based on rpm and Kv of the MOTOR (plus something for loss). 
IT IS INDEPENDENT OF THE BATTERY VOLTAGE!  
Yes!! 
So voltage at the motor is only dependent on rpm and Kv! And current is drawn from the esc.  How much? As much as needed to have enough Watts to propel the rider.  
NOT THE SAME AS BATTERY CURRENT,  NORMALLY MORE.  
And of course the rider has to open the throttle enough to convert (commutate)  enough V and A from the battery side to the motor side.  

Wattage is the link!  Both sides have the same Watts (neglecting losses). They have different A and V.
```

---
## \#53 Posted by: Namasaki Posted at: 2016-07-31T15:35:38.418Z Reads: 155

```
A Volt is a Volt
An Amp is an Amp
Now and Forever
```

---
## \#54 Posted by: Namasaki Posted at: 2016-07-31T15:38:06.022Z Reads: 161

```
The Vesc doesn't convert volts into amps. 
What it does is control the flow of current (amps)
While keeping the voltage constant.
```

---
## \#55 Posted by: devin Posted at: 2016-07-31T16:12:46.345Z Reads: 166

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#56 Posted by: devin Posted at: 2016-07-31T17:04:57.424Z Reads: 153

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#57 Posted by: Hummie Posted at: 2016-07-31T17:34:43.290Z Reads: 156

```
A transformer?

I've said my piece.  I've quoted vedder and Ren who make these things.  I can't explain how it happens but was told its analogous to a transformer.  If u go to vedders site and search for answers you'll find me asking this question already and getting the answers from the source
```

---
## \#58 Posted by: devin Posted at: 2016-07-31T17:37:49.244Z Reads: 156

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#59 Posted by: Hummie Posted at: 2016-07-31T17:40:16.796Z Reads: 147

```
Wattage is definately kept the same and no free lunch.  All I'm saying is the amperage and voltsge that the motor receives is in a different circuit and can be vastly different. As far as over time an average ...I don't know and makes sense but for what I've read on vedders site it might be operating very different.  They say as much
```

---
## \#60 Posted by: devin Posted at: 2016-07-31T17:45:43.816Z Reads: 142

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#61 Posted by: Hummie Posted at: 2016-07-31T17:47:49.836Z Reads: 131

```
I would like to know as well but find myself repeating the statement because it's all I know and so many people don't think it's even right.   You tell me how it works.
```

---
## \#62 Posted by: Hummie Posted at: 2016-07-31T17:52:34.740Z Reads: 132

```
I was quoted the word transformer by Ren.   It's not exactly one but that's the description
```

---
## \#63 Posted by: Namasaki Posted at: 2016-07-31T17:56:54.447Z Reads: 136

```
It's just that the phrase: "volts are converted to amps" 
Is absurd. 
And I could not find anywhere that Vedder made such s statement.
```

---
## \#64 Posted by: Namasaki Posted at: 2016-07-31T18:03:31.557Z Reads: 140

```
[quote="Hummie, post:62, topic:6910, full:true"]
I was quoted the word transformer by Ren.   It's not exactly one but that's the description
[/quote]
A transformer changes voltage. 
It does not convert volts into amps. 
http://www.physlink.com/education/askexperts/ae427.cfm
A transformer is an electrical device used to convert AC power at a certain voltage level to AC power at a different voltage, but at the same frequency.
```

---
## \#65 Posted by: Hummie Posted at: 2016-07-31T18:05:30.812Z Reads: 137

```
When changing the voltage in a transformer the amps change as well .  have to keep same wattage.   laptop charger will convert ac to any dc. . Ac or dc is an easy conversion.   I mean u can convert dc to ac then adjust voltsge and amps and then back to dc I believe is the easiest or only way
```

---
## \#66 Posted by: JohnnyMeduse Posted at: 2016-07-31T18:32:44.064Z Reads: 140

```
What the HELL, this tread is really looking like **two drunk kid** at the end of a party, when noting make any sense. :confused::confused::confused: 

Maybe this video will finally help you on how ESC work!!! https://www.youtube.com/watch?v=OZNxbxL7cdc
```

---
## \#67 Posted by: devin Posted at: 2016-07-31T19:12:23.538Z Reads: 144

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#68 Posted by: JohnnyMeduse Posted at: 2016-07-31T19:17:15.102Z Reads: 131

```
THAT IS NOT HOW CAPACITOR WORKS, IT WILL EXPLODE BEFORE WORKING... SORRY ELECTRONIC LAWS ARE NOT TO MESS WITH... :wink:
```

---
## \#69 Posted by: Hummie Posted at: 2016-07-31T19:42:21.242Z Reads: 126

```
Sounds doable to me. Don't know why it would blow up.  Sounds like somewhat what's going on in some escs but I've heard it said that the vesc works differently when someone gave a similar explanation on vedders site.  This site isn't the place as almost no one here knows.  You should really join vedders site and you can get really good answers there from people who know a huge amount. 
I'd go to vedders main site and it gives a pretty good tutorial on the features and it links to the chat site
I think there is also big differences between how FOC and current control or duty cycle work.  I understand them minimally.  I'm still fascinated
```

---
## \#70 Posted by: PB1 Posted at: 2016-07-31T20:16:45.452Z Reads: 130

```
@devin,  not sure what you want to achieve with your thought experiment around the capacitors.  Our ESC don't use capacitors to store energy.  

Your pictures above are correct.  One important additional information : 
Each single phase from above is exactly half the battery voltage. And if the pulses are timed correctly  you have full battery voltage between two phases at 100% duty cycle.  At less duty cycle you have an AVERAGE VOLTAGE  which is less than battery voltage.  

Forget FOC! It's too complicated.  Try to understand pure and standart BLDC first.
```

---
## \#71 Posted by: Namasaki Posted at: 2016-07-31T20:38:24.680Z Reads: 141

```
[quote="Hummie, post:65, topic:6910"]
When changing the voltage in a transformer the amps change as well .  have to keep same wattage.   laptop charger will convert ac to any dc.
[/quote]
A transformer only changes the amount of voltage 
i.e.: 115v to 12v
A bridge rectifier is then used to convert AC to DC
A bridge rectifier uses a series of diodes which are like one way streets. 
Once electric current flows through the diodes it can't go back so it continues to go forward. 
This is how alternating current is turned into direct current.
```

---
## \#72 Posted by: Namasaki Posted at: 2016-07-31T20:39:55.544Z Reads: 138

```
<img src="/uploads/db1493/original/2X/f/fcfcf888206150354148a9b16b9500867b307af4.png" width="690" height="387">
```

---
## \#73 Posted by: devin Posted at: 2016-07-31T20:50:26.549Z Reads: 130

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#74 Posted by: PB1 Posted at: 2016-07-31T21:04:25.836Z Reads: 128

```
Why make it complicated? Just use a higher voltage battery and keep things easy.
```

---
## \#75 Posted by: devin Posted at: 2016-07-31T21:08:30.403Z Reads: 128

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#76 Posted by: Namasaki Posted at: 2016-07-31T21:22:57.677Z Reads: 134

```
My TB Esc's ran slightly  hotter at 12s than 6s
Even though the current was half as much. 
I think it's because anytime you up the voltage on any circuit, it reduces the amount of current that circuit can handle. So if turning the voltage up from 6s-12s reduces the circuits current capability more than half, you'll have more heat even though your pulling half the amps. 
Here are my test results:
12s / 18.4a / 94deg at heat sink
6s / 37.38a / 84deg at heat sink
These reading where taken while climbing a 10% grade at roughly the same speed
```

---
## \#77 Posted by: PB1 Posted at: 2016-07-31T21:24:01.348Z Reads: 134

```
Yes you could, but...  

Do you own a battery charger? Have you noticed how warm it gets? It gets warm due to losses from converting the DC input into the proper DC output (most chargers work with DC input) as this conversion is not very efficient. 

Keep it simple! Choose your battery and the proper  ESC,  a fitting motor and then work out and adjust your gearing.  

And now a nasty one : learn the basics,  then we can talk about advanced stuff ....  Sorry,  couldn't resist ...  :stuck_out_tongue:
```

---
## \#78 Posted by: PB1 Posted at: 2016-07-31T21:30:16.981Z Reads: 129

```
That is an interesting observation,  could well be.  Maybe the TB ESC is less efficient at 12s. 
Did you use same motor and gearing? 

BTW,  I'm not in favour of big voltages. Have one board at 12s,  all others are 10s.

BTW 2, in all of our considerations we simplified and left out high frequency effects.  Could well be that these produce more loss at 12s.  Not sure,  could be.  Will look into this ...
```

---
## \#79 Posted by: Hummie Posted at: 2016-07-31T21:32:52.594Z Reads: 129

```
A transformer also changes the amperage I believe as to convert the voltage and be the same frequency it would have to  hange the amperage to stay the same wattage.
```

---
## \#80 Posted by: Hummie Posted at: 2016-07-31T21:35:43.529Z Reads: 132

```
Upping the voltsge, I don't see how that could reduce the amperage


I thought since u got those results with 6s vs 12s on the same gearing and motor, it was because u were riding so far from your no load speed on 12s.
Assuming ur temp postings were the motor temp.  If it's the esc then it's because it runs cooler when at full throttle and that's common as it doesn't have to stop and hold current and can let it through or something like that.  I've heard of escs being cooler at half throttle vs full
```

---
## \#81 Posted by: JohnnyMeduse Posted at: 2016-07-31T21:43:05.475Z Reads: 130

```
[quote="Hummie, post:80, topic:6910"]
Upping the voltsge, I don't see how that could reduce the amperage
[/quote]


Well that is the absolute basic of Electronic : THE OHM'S LAW

https://en.wikipedia.org/wiki/Ohm%27s_law
```

---
## \#82 Posted by: Namasaki Posted at: 2016-07-31T21:46:13.719Z Reads: 122

```
When I ran this test, 
It was same motors and gearing and same batteries. 
12s at half throttle 
6s at full throttle 
Heat was at the Esc's
```

---
## \#83 Posted by: Namasaki Posted at: 2016-07-31T21:49:37.756Z Reads: 125

```
I'm not in favor of 12s either after running it a while. 
I just changed to 10s
Frankly, I rather enjoyed riding at 6s. 
So smooth and controllable with top speed about 15mph
```

---
## \#84 Posted by: Hummie Posted at: 2016-07-31T23:02:15.863Z Reads: 129

```
Namasaki"I think it's because anytime you up the voltage on any circuit, it reduces the amount of current that circuit can handle"

I don't think the resistance will ever change in the equation and so upping voltage will always increase current.  That's ohms law.
```

---
## \#85 Posted by: devin Posted at: 2016-08-01T15:32:36.604Z Reads: 140

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#86 Posted by: Hummie Posted at: 2016-08-01T16:46:36.789Z Reads: 124

```
Sdo caps up the voltage though?  The ones on the esc I would imagine hold the same voltsge as the battery.  How could they have more in parallel with the battery.  Otherwise the esc would get too much voltage and snap. 

assuming they do up the voltage it would work with high kv and low voltage battery.   Then use them and stay under the voltage limit still. 



U would be solely drawing from them and not the battery.
```

---
## \#87 Posted by: devin Posted at: 2016-08-01T16:49:58.620Z Reads: 121

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#88 Posted by: Hummie Posted at: 2016-08-01T16:51:47.849Z Reads: 108

```
I think caps only work in parallel.
```

---
## \#89 Posted by: devin Posted at: 2016-08-01T16:52:52.418Z Reads: 113

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#90 Posted by: Hummie Posted at: 2016-08-01T16:54:17.258Z Reads: 115

```
How would u wire them.  They are not a compete circuit connection.    In series they are a bunch of broken circuits.  Or maybe there's a way.
```

---
## \#91 Posted by: devin Posted at: 2016-08-01T16:55:05.136Z Reads: 111

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#92 Posted by: Hummie Posted at: 2016-08-01T16:57:41.941Z Reads: 110

```
I'm at the limit of what I know.  Caps can be done in series but it's less than the least, similar to resistors in parallel I think.
```

---
## \#93 Posted by: devin Posted at: 2016-08-01T16:58:44.400Z Reads: 118

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#94 Posted by: Hummie Posted at: 2016-08-01T17:14:43.048Z Reads: 116

```
You can do series connections and they will have the same energy storage and can increase the voltage discharge.  There just has to be resistors in the circuit. 



http://www.coilgun.info/theorycapacitors/capacitors2.htm
```

---
## \#95 Posted by: PB1 Posted at: 2016-08-01T17:28:11.417Z Reads: 116

```
@devin I like your post,   you seem to be getting it.  All that AC, DC,  amps and Watts talk starts to make sense.   

One thing though.  The back emf voltage is not against the esc voltage.  Can't be.  Remember,  we have AC.  It is THE voltage in the motor. 

Still ..  Why not keep it simple and get a higher S battery.  :innocent:
```

---
## \#96 Posted by: devin Posted at: 2016-08-01T17:30:33.036Z Reads: 115

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#97 Posted by: PB1 Posted at: 2016-08-01T17:30:49.482Z Reads: 111

```
Will chime in later.  Just back from a round of downhill biking and a round of soccer with son and some kids ...
No shower yet and dinner is waiting ...
```

---
## \#98 Posted by: Hummie Posted at: 2016-08-01T17:59:03.365Z Reads: 114

```
The energy density of a capacitor isn't as good as a battery. Im not sure if thats by volume or weight but I bet both. 

But if u wanted to do it and run a low voltage battery and high kv motor and then charge the caps with the goal of somehow increase the voltage they would supply to the esc I havent seen an example of caps being able to go in parallel or series where they can increase their Voltage
```

---
## \#99 Posted by: devin Posted at: 2016-08-01T19:39:50.535Z Reads: 116

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#100 Posted by: Hummie Posted at: 2016-08-01T20:48:54.507Z Reads: 114

```
Have u ever seen a capacitor that could be higher voltage than the source?  Doing parallel or series with capacitors won't go higher.   Series is worse and the reciprocal of the added capacitances of each. 
I don't see how u can increase voltage without another method
```

---
## \#101 Posted by: devin Posted at: 2016-08-01T23:12:05.746Z Reads: 120

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#102 Posted by: PB1 Posted at: 2016-08-02T09:11:54.106Z Reads: 115

```
Ok @devin,  tried to figure this out and think it could work. A nice thought experiment.  

But why so complicated? Just get a higher S battery. Haha,  just repeating myself,  fits this thread...  

Trying to explain why :
Volume and losses. 
Let's say you want to up your capacitors to 70V  and you have a 1 Faraday capacitors.  
Energy stored in a capacitor is E = C*V*V,  result is in joules.  So 1*70*70=4900 joules 
That's 1,36Wh if I'm not mistaken.  
A 1farad capacitor is the size of a 1L coke bottle and the same weight.  A lipo is smaller and lighter. 

Whenever you charge a capacitor from a battery some energy goes into the capacitor.  THE SAME AMOUNT OF ENERGY is lost to heat. So this will be far from an efficient set up. 

So again,  why bother ...
```

---
## \#103 Posted by: Maxid Posted at: 2016-08-02T09:34:13.588Z Reads: 111

```
[quote="PB1, post:102, topic:6910, full:true"]
Whenever you charge a capacitor from a battery some energy goes into the capacitor.  THE SAME AMOUNT OF ENERGY is lost to heat.
[/quote]

Where is that information coming from? That would be the most ridiculous thing and most certainly can not be true when capacitors are even used to power electric busses.

Edit: for anybody as clueless as me:
Apparently that is indeed true - but only for constant voltage sources with variable current. If you charge with a constant current source you will not have this problem. (In case of a battery however you have a constant voltage source)
```

---
## \#104 Posted by: PB1 Posted at: 2016-08-02T09:41:10.179Z Reads: 103

```
@Maxid,  thanks for doing your research.  FYI I studied electric engineering,  electronics and IT. Even though it's been a while since I used this stuff the basics haven't changed ...
```

---
## \#105 Posted by: devin Posted at: 2016-08-02T14:26:31.672Z Reads: 113

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#106 Posted by: devin Posted at: 2016-08-02T17:23:45.807Z Reads: 109

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#107 Posted by: Hummie Posted at: 2016-08-02T21:55:28.601Z Reads: 104

```

  "  Phase Current does NOT equal battery current
    Torque is related to Phase Current
    Power out is proportional to battery power into the controller
    Deathbike uses 650A from the controller but only 7A from the battery for a launch because the controller bucks down the battery voltage to get whatever phase current it wants - the controller turns 100V, 7A from the battery into 1V, 700A going to the motor
    Your battery does not care how many phase amps are flowing to the motor because all it feels are the 7A that are being pulled from it"

Basically a motor controller acts like a buck converter when it is driving motors at less that full duty cycle so it steps down voltage while stepping up current. If Luke's controller output full pack voltage to the motor windings at 0rpm when there is no back emf, the current would be around 100V / 0.001ohm = 100000A. Note: I pulled the 0.001ohm winding resistance out of thin air although it's probably within an order of magnitude of the correct figure. In order to limit the current to 650A RMS, the controller PWM's the windings to input (probably a sine wave) with an RMS voltage around 650A x 0.001ohm = 0.65V to each phase.
```

---
## \#108 Posted by: devin Posted at: 2016-08-03T02:46:25.567Z Reads: 95

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#109 Posted by: Hummie Posted at: 2016-08-03T03:35:36.295Z Reads: 89

```
everything I wrote above was quoted as you probably know.  I think what you write makes a lot of sense.  sounds like a great answer to what happens.  wonder if anyone who knows for sure can give us more info or verify.  strangely my computer wont go to any search enginees:confused: so i cant look for more about the rms meaning.  I dont know or have almost any background on which to base anything..but sounds good to me!
```

---
## \#110 Posted by: devin Posted at: 2016-08-03T04:24:47.053Z Reads: 100

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#111 Posted by: Hummie Posted at: 2016-08-03T05:36:03.288Z Reads: 110

```
More of other's words.  Haven't even had time to read it yet but give u a head start. 
From Rc groups.  Those guys know all the stuff 

The ESC doesn't actually provide a variable voltage. it provides a variable duty cycle pulse train that always switches between ground and the full battery voltage. But the pulses are going in to a circuit with inductance (the motor windings), and that inductance averages-out the pulses. So a pulse train swinging the full voltage with a 50% duty cycle appears to be 1/2 the voltage in the motor. But the FETs are still seeing the full voltage on every pulse.

As for efficiency... 

As a motor runs, it generates a voltage of it's own called the Back EMF. This voltage is opposite polarity to the voltage being applied to the motor to make it spin. The voltage the motor generates is dictated by RPM/KV. If the motor has no load or other losses, when a voltage is applied the motor will accelerate to an RPM equal to the KV*Voltage. But no faster. This is because as the motor accelerates to a higher speed, the Back EMF increases too. The motor will continue to accelerate until the Back EMF equals the voltage being applied to the motor. The motor cannot accelerate to a higher speed. 

That's because acceleration requires torque. The torque produced by the motor is a function of the current flowing through the motor. The current flowing through the motor is a function of difference between the applied voltage and the Back EMF. When the Back EMF and applied voltage are equal, no current flows through the motor, torque goes to zero and the motor can no longer accelerate to a higher speed.

The most current flows through the motor when the Back EMF is zero, which is when the motor is not turning. An electric motor produces the most torque and draws the most current when stalled. No current flows through the motor when the Back EMF and applied voltage are equal (of course, you can never get to this point in the real world). An electric motor produces the least amount of torque when closest to its unloaded KV*V speed.

When you apply a load to the motor, the motor must produce enough torque to turn the load. The torque is a function of the current, and the current is a function of the difference between the Back EMF and applied voltage. The motor must run slow enough to increase the difference between the Back EMF and applied voltage in order for current flow to increase in order for torque to increase in order for the load to turn.

The motor's efficiency is measured by its ability to convert electrical energy to mechanical power. Running at its no-load speed it draws very little current but it also produces very little mechanical power. Where the motor is most efficient depends on a lot of factors specific to the construction of the motor and the "quality" of the motor drive circuits, and also on the load you're presenting to the motor. In fact, the efficiency has to be stated in the context of a specific load. Its efficiency without a load is meaningless.

The math to calculate efficiency needs quite a few input parameters. But luckily, there are online calculators like MotoCalc and eCalc that will do the math for you. You should plug your motor/prop/battery configuration in to one of these calculators and see what it tells you.
```

---
## \#112 Posted by: devin Posted at: 2016-08-03T05:40:23.519Z Reads: 99

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#113 Posted by: PB1 Posted at: 2016-08-03T09:01:52.757Z Reads: 88

```
That is a good article.  Please read my article again "how a bldc motor works",  pretty much in line.  
Then I think things will start making sense.  

Part 2 is still in the works,  enjoying my vacation.
```

---
## \#114 Posted by: SimosMCmuffin Posted at: 2016-08-05T19:32:05.496Z Reads: 94

```
[quote="Hummie, post:7, topic:6910, full:true"]
volts converted to amps

http://vedder.se/forums/viewtopic.php?f=5&t=45&start=10

I've been down this road before.
[/quote]


Man, gives quotes telling where he said that. And if you understand how it works, why don't you provide an analogy to us so we can understand what you're trying to tell?!

All you have been saying is: "volts converted to amps", but you don't explain how this happens!
```

---
## \#115 Posted by: Hummie Posted at: 2016-08-05T19:39:00.324Z Reads: 98

```
Vedder:
"The achieve the same performance on 200kv 6s as on 100kv 12s you have to double the current, which will generate four times more heat in the VESC for a given torque. The motor will not care much, but the simple answer is that the VESC is much better suited for 12s 100kv than 6s 200kv.

As rew mentioned, if you are using far less current than the VESC can supply anyway it won't matter, but in this case I'm sure that you are using more current than that.

Regarding running a motor on low modulation with high battery voltage, that is fine for the VESC. The phase current is what will cause heat. So if you have a 200kv motor and never run more than a certain speed where 6s is enough, 12s will work almost as well as 6s heat-wise and generate less heat in the cables between the battery and the VESC. Running on low modulation and high voltage will cause more ripple though, which make things slightly less efficient."
I don't know how it works because I haven't reread Devins post but it's really pwm I believe and averages are included with the new element of time on and off
After reading this again...the esc is less efficient at lower modulation, lower throttle or duty cycle, than max.  So on half throttle ur less efficient in the esc on 12s than full on 6s.  This has been shown


"rew
Re: 14S VESC ?
Post29 May 2016, 11:10

Yes. That's the fallacy. Those who can easily measure the battery current will think that current is also the motor current, but in fact the motor current can easily be many times more.
"
```

---
## \#116 Posted by: SimosMCmuffin Posted at: 2016-08-05T19:49:05.467Z Reads: 88

```
So the point in saying "volts converted to amps", you mean that you get the same power on 200kV 6S as on 100kV 12S? First one will run low voltage, high current -- and the second runs high voltage, low current, but both have the same electrical power?

[quote="Hummie, post:115, topic:6910"]
"rewRe: 14S VESC ?Post29 May 2016, 11:10

Yes. That's the fallacy. Those who can easily measure the battery current will think that current is also the motor current, but in fact the motor current can easily be many times more."
[/quote]

Ok, so if the current can be higher in the motor, then could you try to give us an analogy how it happens?
```

---
## \#117 Posted by: Hummie Posted at: 2016-08-05T19:51:22.988Z Reads: 83

```
Less amps sucked from battery with 12s yet as much power and motors only run on amps so converted
To amps.   Motor behaves same on both systems


Don't know how it happens except maybe Devin could explain exactly.
```

---
## \#118 Posted by: SimosMCmuffin Posted at: 2016-08-05T19:54:24.847Z Reads: 90

```
Are you factoring in that the magnetic field created by the stator coil is the number of turns squared? So for less amps it creates an equally strong magnetic field.

I remember some time ago being a bit confused with the Vedder's demo run video showing different current amounts for the battery and motor, but I couldn't find info anywhere to figure out how it worked.

https://www.youtube.com/watch?v=nGb-zt2Jp9k
here's the video in question.
```

---
## \#119 Posted by: Hummie Posted at: 2016-08-05T19:56:45.795Z Reads: 86

```
Low kv motor needs less amps as the high kv for equal torque. Purely amps were talking about as the variable.  No voltage.  So what does voltage do in a motor is the question...and the simplified answer is it gets converted to amps.  I'm still obsessed with the question and Devin could have the answer but haven't waded through his pwm explanation.


An example from ykick at Es 

"  I never ran ‘em more than 14-15A from the battery and 30-35A phase current. My practice for phase current has always been 2-2.5x battery current. I’ve never burned up BLDC windings or a controller in nearly 10 years using a wide variety of this stuff. "

Nice to see that video again!!  U can see the motor current is much higher than the battery current at slow speeds and then they balance more with speed
```

---
## \#120 Posted by: SimosMCmuffin Posted at: 2016-08-05T20:10:40.667Z Reads: 90

```
Yes I figured out the math behind it, but now I'm trying to figure out the working principle behind it.

Ok, so. One thing we can agree without a doubt is that **power on both battery and motor side is equal**. I'll use example values from the video at 0:05

Battery side: _Power = Battery current * battery voltage_
--------------------------- 3.62 A * 33.2 V = 120.2 W

Motor side: _Power = Motor current * (battery voltage * duty cycle)_
--------------------------- 20.17 A * (33.2 V * 18.2 %) = 121.1 W

So, I now understand what you mean by [quote="Hummie, post:115, topic:6910"]
Those who can easily measure the battery current will think that current is also the motor current, but in fact the motor current can easily be many times more
[/quote]

Next to understand why this happens and I feel we will be doing some RMS calculations.
```

---
## \#121 Posted by: devin Posted at: 2016-08-06T05:18:20.153Z Reads: 87

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#122 Posted by: devin Posted at: 2016-08-06T05:23:53.241Z Reads: 74

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#123 Posted by: chuttney1 Posted at: 2016-08-06T05:58:42.886Z Reads: 81

```
I'm speed reading through this post and answers to the "Volts conversion to amp" is a round-a-bout way of understanding the current draw between battery and VESC and Motor with efficiency and duty cycle explanation.  

Strictly principles from a electricity and magnetism. Voltage and Amps are a function of Watts which everyone here "I assume" knows. You can't convert between one because the units will never check out. No one mentions Maxwell's Equations tying voltage and amps to a magnetic field and Gauss through vector forces. I forgot how the math goes, but these set of equations provide an answer to one gear in a complex machine of many parts. It explains why large torque is created at standstill to move an object forward.

If its how one can go from a square wave to a sine wave without the constant 50/60 Hz found in AC for DC motor applications without sensors. You have to use Fourier Transformation.
```

---
## \#124 Posted by: SimosMCmuffin Posted at: 2016-08-06T09:30:27.536Z Reads: 76

```
Ok, got it now. Battery side is just calculated with the average over time while motor side also factors in the PWM duty cycle -> lower effective voltage, so higher amps to get the same power, which also explains why at 100% duty both sides are identical.

It also shows this in the math. Battery side is just the average over time, while motor side adjusts to the PWM.
[quote="SimosMCmuffin, post:120, topic:6910"]
Battery side: Power = Battery current * battery voltage
--------------------------- 3.62 A * 33.2 V = 120.2 W

Motor side: Power = Motor current * (battery voltage * duty cycle)
--------------------------- 20.17 A * (33.2 V * 18.2 %) = 121.1 W
[/quote]
```

---
## \#125 Posted by: devin Posted at: 2016-08-06T17:01:06.966Z Reads: 75

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#126 Posted by: SimosMCmuffin Posted at: 2016-08-06T18:26:41.220Z Reads: 80

```
So does it make sense to have a settable motor current in the VESC configurator? Does it serve a purpose if the real current is still the averaged battery side current? Or does the larger power spikes on lower duty cycles increase the heat losses and the motor current limit is there to limit the large heat losses?

I'll use just some random numbers to test this.

let's say averaged battery side current is 1A @ 1% duty cycle, battery voltage is 10 Volts. Motor winding resistance is 0.1 ohm:


    DC side heat losses: P = I^2 * R = 1A^2 * 0.1 Ohms = 10 Watts

    AC side heat losses: P = U^2 / R = 10V^2 / 0.1 Ohms = 1000 Watts
    -------------------- I = P / U = 1000 W / 10 V= 100A 

    So for 1% of time we have 100 Amps going to the motor so the averaged heat losses from current are:
    P = I^2 * R * DutyCycle = 100A^2 * 0.1 Ohms * 0.01 = 10 Watts

So the heat losses (power) are still the same either way you try to account them, soo why not just have a battery side current limit and no motor current limit setting? Am I missing something?

Also doesn't this prove that the following statement doesn't make sense?

[quote="Hummie, post:119, topic:6910"]
An example from ykick at Es 

"  I never ran ‘em more than 14-15A from the battery and 30-35A phase current. My practice for phase current has always been 2-2.5x battery current. I’ve never burned up BLDC windings or a controller in nearly 10 years using a wide variety of this stuff. "
[/quote]

So isn't this wrong or misunderstood? Or am I misunderstanding things?
```

---
## \#127 Posted by: Hummie Posted at: 2016-08-06T18:38:50.900Z Reads: 71

```
Maybe at the slowest speeds, fractions of 1% duty cycle the current can be huge. 

Why do we bother even using a low kv motor since at lower duty cycles the motor will get the current it needs to make the torque regardless of how high the battery voltage is.  Run 50 volts and 1000kv motors.
```

---
## \#128 Posted by: SimosMCmuffin Posted at: 2016-08-06T18:44:05.349Z Reads: 74

```
I just pointed out in the math that the heat losses from the current averages out.

Are you seriously saying you're gonna burn your motor winding, when the ESC you're using has 20+kHz PWM frequency meaning that you have that huge current going to the winding at 1% duty cycle to have the duration of a 500 nanoseconds and after that it averages out?

[quote="Hummie, post:127, topic:6910"]
Maybe at the slowest speeds, fractions of 1% duty cycle the current can be huge.
[/quote]
You're always saying that, but never give us any kind of calculations showing how big these currents are even in an example and what the current is when averaged out...
```

---
## \#129 Posted by: Hummie Posted at: 2016-08-06T18:55:34.963Z Reads: 68

```
I don't have answers for u just statement from others who know.  II'm not an expert on how it works.  I've read from ren that the motor current limit is more so the limitation of the esc than the battery current.  Would u rather I just not said anything instead of passing on what I read from the experts?  I can get the quotes themselves if u like.
I'm not here in knowledge competition. I'm just trying to figure how these work
```

---
## \#130 Posted by: SimosMCmuffin Posted at: 2016-08-06T19:09:39.670Z Reads: 66

```
@devin @Namasaki  I'm replying to my little earlier post, but I'm interested getting both of your opinions on it.
```

---
## \#131 Posted by: devin Posted at: 2016-08-06T19:17:47.735Z Reads: 63

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#132 Posted by: devin Posted at: 2016-08-06T19:23:46.237Z Reads: 67

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#133 Posted by: Hummie Posted at: 2016-08-06T19:31:54.966Z Reads: 75

```
No it doesn't contain an actual transformer and I've said so 

"Rew
Re: FOC on 6s
Post04 Jun 2016, 23:29

Do you know transformers? 

You can transform 220V, 1A to 22V, 10A, right?

The VESC is doing the same, it is transforming 50V, 25A into 20.8V, 60A for your motor."

Please tell rew

Hopefully we can get past this.
```

---
## \#134 Posted by: SimosMCmuffin Posted at: 2016-08-06T19:33:27.444Z Reads: 69

```
Makes sense, got it.

Question: What then, is the point of the "motor current limit" value in the VESC?

As I now think about. The way I think it works is, the battery current limit sets the max power it can pull continuously and the motor current limit sets the maximum power of the pwm pulses?

I can't really think of any other things they would affect.
```

---
## \#135 Posted by: devin Posted at: 2016-08-06T19:40:48.068Z Reads: 72

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#136 Posted by: SimosMCmuffin Posted at: 2016-08-06T19:55:38.846Z Reads: 73

```
Good explanation. This has to be one of the most frickin' confusing ways to word things overall. I'll just demonstrate that I understand this now.

Example values are 10V, 10Amps (When MOSFET bridge is conducting) @ 10% duty(-> 10W actual power), at 0 RPM, so full effective voltage, no EMF.

**DC side - AC side**
Steady-Steady
10V 1A - 1V 10A

Pulsed-Steady
10V 10A 10% - 1V 10A

Steady-Pulsed
10V 1A - 10V 10A 10%

Pulsed-Pulsed
10V 10A 10% - 10V 10A 10%

All the values on both sides equal 10 Watts
BTW, should I have used RMS voltage?
```

---
## \#137 Posted by: PB1 Posted at: 2016-08-06T20:48:22.481Z Reads: 69

```
@SimosMCmuffin,  almost,  but not 100% true

The voltage IN THE MOTOR  is the back emf voltage, not the delta to battery or average PWM.  

Let's say a motor spins slowly producing 10v. Battery is 37v. Throttle is around 25% producing an average voltage of slightly above 10v, motor is maybe pulling 10amps,  100watts,  rider just cruising.  Battery current is 100watts / 37v = 2,7 amps.  

Rider squeezes throttle to 100 %.  At the beginning,  Voltage in the motor is still 10v. But average voltage ESC out is bigger (37v).  But  -  voltage at ESC out and motor need to be the same as it's the same wire (neglecting losses) . So the higher voltage of the esc out tries to pull the motor along (via electro magnetic field) , current flows and produces torque and the motor accelerates.  And motor voltage increases. Motor current can be very big here, especially when the motor is at low RPM.  
Once the motor gets close to max unloaded RPM,  motor and battery voltage are almost the same and not a lot of current flows. 

It's the same as any normal car.  Speed is not just a function of throttle position but also of from which speed the car is coming from,  going uphill,  wind resistance,  weight, ...  

Sorry,  can't explain it any better ...
```

---
## \#138 Posted by: SimosMCmuffin Posted at: 2016-08-06T20:55:36.857Z Reads: 69

```
[quote="SimosMCmuffin, post:136, topic:6910"]
Example values are 10V, 10Amps (When MOSFET bridge is conducting) @ 10% duty(-&gt; 10W actual power), at **0 RPM**, so full effective voltage, **no EMF**.
[/quote]

I was referring to the Devin's post:
[quote="devin, post:131, topic:6910, full:true"]
esc actually does pulsed dc to pulsed ac

but the "experts" are still using steady dc and steady ac terminology. the truth is it's misleading because with pulsed power you can't state amps x volts without mentioning duty cycle and expect the amps x volts figures to equal the same averaged watts as when talking about steady dc/ac
[/quote]


 with the numbers and how they change depending on if somebody used the "steady" values or pulsed values, because I didn't get the VESC's configurable value "motor current limit". I understand how EMF works, but this was not about that, **and** as I have already pointed out in the example that the motor was not turning, so there wasn't any EMF it could have produced.
```

---
## \#139 Posted by: PB1 Posted at: 2016-08-06T21:15:17.346Z Reads: 66

```
Yes,  fine.  

There is one thing many people don't fully grasp.  The voltage in a so called bldc motor is AC.  So it's not against the battery voltage,  it is the  voltage.  
This voltage in the motor is normally lower than battery voltage.  If the motor is spinning slowly it's far lower than battery voltage.  And if you then pull the throttle your motor will pull a lot of amps.  
Watts on battery and motor side being the same amps on motor side can be a lot higher than on battery side.  These amps can burn your motors.  This is why you have a setting in the VESC that let's you limit that motor current.  

Also I think its easier to think in and use average values that pulses.
```

---
## \#140 Posted by: SimosMCmuffin Posted at: 2016-08-06T21:25:29.494Z Reads: 71

```
I think the better term would be to use power instead of amps. Because both power on the battery DC side is the same as on the motor AC side, but the terminology gets confusing because using the "steady" values, the values on the DC and AC (voltage and amperage) flip the other way around, but always equal the same power.

[quote="SimosMCmuffin, post:136, topic:6910"]
Example values are 10V, 10Amps (When MOSFET bridge is conducting) @ 10% duty(-&gt; 10W actual power), at 0 RPM, so full effective voltage, no EMF.

**DC side - AC side**
Steady-Steady
10V 1A - 1V 10A

Pulsed-Steady
10V 10A 10% - 1V 10A

Steady-Pulsed
10V 1A - 10V 10A 10%

Pulsed-Pulsed
10V 10A 10% - 10V 10A 10%
[/quote]



Power is the one causing heat and torque here. 0V * 1000A = 0W ; 1000V * 0A = 0W
```

---
## \#141 Posted by: PB1 Posted at: 2016-08-06T21:40:03.718Z Reads: 82

```
Again,  sorry for being a smartass here but this is important to me.  I can only "almost" agree with your last sentence.  

Yes,  power is equal on both sides.  

But  -  only current (amps) produce torque in an electric motor.  Same for heat.  

Motor 1) 100v,  50 amps = 5000 watts  power,   good torque (Kt*current) 

Motor 2) 50v, 100amps = 5000 Watts power,  twice the torque,  twice the heat.  

So it does matter how the power is produced.  

Now I shut up ...  For a while  :bicyclist:
```

---
## \#142 Posted by: SimosMCmuffin Posted at: 2016-08-06T21:48:36.366Z Reads: 88

```
Question.

[quote="PB1, post:141, topic:6910"]
Motor 1) 100v,  50 amps = 5000 watts  power,   good torque (Kt*current) 

Motor 2) 50v, 100amps = 5000 Watts power,  twice the torque,  twice the heat.
[/quote]

wouldn't motor 2 also accelerate to top speed twice as fast and therefore only generate that heat for only half of the time it takes for motor 1 to get to top speed? Resulting in the end both motors being equally warm? And isn't your comparison also wrong? isn't motor 2's winding resistance only a quarter of motor 1's, so it would actually have the same heat loss. otherwise it couldn't pull 100 Amps with 50 Volts and the numbers wouldn't make sense. With your example values it would seem that motor 2's Kt or Km value is also different.

This is comparable to the 
4S, 200kV
8S, 100kV
motor and battery pairing. Both would accelerate at the same rate and reach top speed at the same time in theory.

> "Since the torque is current x Kt then Km becomes Kt / ( motor resistance)^0.5"
> "P is the resistive power loss (SI units, W)" <- this alone debunks your example
https://en.wikipedia.org/wiki/Motor_constants

>  "Km = Kt/ Rt - where Kt is the torque sensitivity (oz.-in./amp) and Rt is the terminal
>  resistance (ohms)"
http://www.motioncomp.com/pdfs/Motor_Constant_Great_Equalizer.pdf

I still maintain that _power_ **is** the better way.
```

---
## \#143 Posted by: devin Posted at: 2016-08-07T00:46:44.255Z Reads: 75

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#144 Posted by: devin Posted at: 2016-08-07T02:00:45.395Z Reads: 74

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#145 Posted by: exnor Posted at: 2016-08-07T04:51:01.491Z Reads: 73

```
Is it just me or this Hummie guy is super disrespectful?
```

---
## \#146 Posted by: lowGuido Posted at: 2016-08-07T05:05:45.839Z Reads: 69

```
is there any information coming out of this thread? just remember the more heated the argument gets the further away from a resolution you are. if you guys cant keep it clean and swap information without insulting each other this thread will be closed.
```

---
## \#147 Posted by: SimosMCmuffin Posted at: 2016-08-07T05:36:15.338Z Reads: 79

```
[quote="devin, post:143, topic:6910"]
[quote="SimosMCmuffin, post:136, topic:6910"]
DC side - AC side
Steady-Steady [terminology]
10V 1A - 1V 10A

Pulsed-Pulsed [terminology & reality]
10V 10A 10% - 10V 10A 10%
[/quote]



@SimosMCmuffin  exactly! :grin:

it's a matter of change in terminology vs reality.

it is not a matter of any actual voltage or amperage conversion on either side.
[/quote]

This is the answer to the topic's question "Volts conversion to Amps". Due to the terminology used, it would seem that the "Volts conversion to Amps" happens, when in reality, it doesn't. Same current flows through both sides, although **pulsed** (unless at 100% duty cycle).

I won't and can't deny that we didn't digress into other things also, but I wouldn't say things got too insulting or personal, at least personally. I always tried to provide an example calculations and sources for my citations and they were open to debunking, as I expect other people's arguments to be also. If others don't provide any examples then it's that much harder to try to argue with them, if their argument is flawed.
```

---
## \#148 Posted by: SimosMCmuffin Posted at: 2016-08-07T05:53:24.879Z Reads: 80

```
This is and objective observation about Hummie's posts.

He seems to parrot/quote what someone else, more knowledgeable than him has said about the topic, but doesn't provide any arguments or explanations himself as to why things would be so. "Someone else who knows more about this thing said so, but I don't have the skills to prove or disprove it so it must be true." and when we try to argue his points, he deflects by saying "I can get the quotes themselves if u like". 

[quote="Hummie, post:129, topic:6910, full:true"]
**I don't have answers for u just statement from others who know.**  II'm not an expert on how it works.  I've read from ren that the motor current limit is more so the limitation of the esc than the battery current.  **Would u rather I just not said anything instead of passing on what I read from the experts?  I can get the quotes themselves if u like**.I'm not here in knowledge competition. I'm just trying to figure how these work
[/quote]

[quote="Hummie, post:119, topic:6910"]
I'm still obsessed with the question and Devin could have the answer but haven't waded through his pwm explanation.

**An example from ykick at Es** 

"  I never ran ‘em more than 14-15A from the battery and 30-35A phase current. My practice for phase current has always been 2-2.5x battery current. I’ve never burned up BLDC windings or a controller in nearly 10 years using a wide variety of this stuff. "
[/quote]

[quote="Hummie, post:111, topic:6910"]
More of other's words.  Haven't even had time to read it yet but give u a head start. **From Rc groups. Those guys know all the stuff**

The ESC doesn't actually provide a variable voltage. it
[/quote]

[quote="Hummie, post:109, topic:6910"]
**everything I wrote above was quoted as you probably know.**  I think what you write makes a lot of sense.  sounds like a great answer to what happens.  wonder if anyone who knows for sure can give us more info or verify.
[/quote]
```

---
## \#149 Posted by: exnor Posted at: 2016-08-07T15:14:24.856Z Reads: 70

```
He seems like a politician lol, never talking about actual stuff.
```

---
## \#151 Posted by: Hummie Posted at: 2016-08-07T15:57:29.780Z Reads: 76

```
that's because I dont have the answers and am looking for them. If you go to the first post it starts with a question from me. do I have to have an answer or a good argument of my own or cant I just compile possible explanations from people who are more knowledgeable and experienced than myself and bringing that to the table as a resource? To me that's constructive.   The reason this thread started is because I was reading what the vesc experts wrote, which is confusing, and brought their exact words here to figure it out.

politician? I'd have thought that's more how scientists do it.
disrespectful?  i'm not challenging people's cognitive abilities or belittling anyone here.  I'm not talking about other people period, only the question i brought to the table.
```

---
## \#152 Posted by: SimosMCmuffin Posted at: 2016-08-07T16:09:37.281Z Reads: 75

```
So has me, @devin or @PB1 helped you understand with the numerous posts we have made pointing out with math and examples how things work?
```

---
## \#153 Posted by: devin Posted at: 2016-08-07T23:03:07.189Z Reads: 80

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#154 Posted by: devin Posted at: 2016-08-08T14:33:54.274Z Reads: 80

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#155 Posted by: Hummie Posted at: 2016-08-08T15:48:42.600Z Reads: 73

```
Yea don't like being mocked.   And ur still at it on the forum.  sure doesn't  feel like help.
Don't know what ur point is.  Yes they use pwm so using averages the amps don't increase.  Do ur math...why would I want to play with u guys.   This isnt about helping me here just trying to rub my nose.    Don't know why.  It's fair to say we're both right about the question and it's pwm that makes huge current spikes possible.    right? No let's not answer and leave it done can we? The only point of ur posting or anyone posting at this point seems to be to attack me
```

---
## \#156 Posted by: SimosMCmuffin Posted at: 2016-08-08T16:25:09.478Z Reads: 74

```
Real talk time @devin, @Hummie and @PB1 . Should we start a new topic where we compile all the maths and calculations how things work with the battery, esc and motor as a one unit?

Something like "Compiled BLDC math and calculations explained" and in it, we would provide a short summary of a concept and then proceed to show an example calculation. The compiled info would be gathered into the 1st post and then we can commit the rest of the post to conversation, arguments and thoughts. Because looking at this thread in hindsight, it is VERY difficult to make any heads or tails of it as the factual tidbits are scattered all over the thread.

I think this particular topic/thread has been done and burned to it's death.
```

---
## \#157 Posted by: devin Posted at: 2016-08-08T17:42:46.213Z Reads: 71

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#158 Posted by: PB1 Posted at: 2016-08-08T18:46:43.557Z Reads: 66

```
Plus 1, I'm in
```

---
## \#159 Posted by: devin Posted at: 2016-08-08T23:14:36.583Z Reads: 71

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#160 Posted by: SimosMCmuffin Posted at: 2016-08-09T00:29:27.598Z Reads: 69

```
Not quite... I have been wondering about the duty cycle, battery voltage and RMS voltage equation and it changes things a bit. The actual duty cycle I got when using RMS voltages was actually 1%.

What this means is that just the "average voltage" derived from the equation **Vavg = (BatteryVoltage) * (DutyCycle)**, is not the real "working" voltage. I'll post an example with the values you used in your example to point out the problem within 12 hours.

[quote="devin, post:159, topic:6910"]
5.25V **<-- if this was Vrms the calculation would give the right answer of about ~1% for duty cycle. everything else about the calculus looked correct**

5.25V / .007 ohm = 750amp ac motor limit = 3937.5 watts
[/quote]



Meanwhile I'll leave this here:
https://en.wikipedia.org/wiki/Root_mean_square
```

---
## \#161 Posted by: devin Posted at: 2016-08-09T00:39:11.949Z Reads: 65

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#162 Posted by: devin Posted at: 2016-08-09T01:08:32.112Z Reads: 69

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#163 Posted by: SimosMCmuffin Posted at: 2016-08-09T01:10:37.236Z Reads: 61

```
Yes, that's was exactly the calculation I was going to first use to show that the 10.5% was not the correct duty cycle, but I would have then went into how the RMS voltage is calculated and then use it with your example values.

This also mean that the "6S 100% vs 12S 50%" is not as we thought, If truly 12S is run at 50%, the resulting speed or power is not the same as with the 6S at 100%.

A bit counter intuitively this statement still holds true, but only because it's power based.
[quote="SimosMCmuffin, post:136, topic:6910"]
**DC side - AC side**
Steady-Steady
10V 1A - 1V 10A

Pulsed-Steady
10V 10A 10% - 1V 10A

Steady-Pulsed
10V 1A - 10V 10A 10%

Pulsed-Pulsed
10V 10A 10% - 10V 10A 10%
[/quote]
Which makes the steady-steady even weirder from the RMS voltage perspective.
```

---
## \#164 Posted by: devin Posted at: 2016-08-09T01:14:31.428Z Reads: 53

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#165 Posted by: devin Posted at: 2016-08-09T01:59:27.580Z Reads: 61

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#166 Posted by: Mathias Posted at: 2016-08-09T06:50:09.847Z Reads: 62

```
This is not how the voltage/current conversion works. There is no such thing as "instantaneous amps" and also no "instantaneous volts", especially not[quote="devin, post:162, topic:6910"]
amps: 7,142.85 amps (higher)
[/quote]

The reason is that there is capacitance C and inductance L, and in this case those quantities are huge! C resists the change of voltage, and L the change of current. This is the very principle that the DC-DC conversion that was discussed here is based on. 

What you are missing is that the considerable C and L do not allow to treat voltage, amps, and power the way you do. You have to take the change of the quantities over time into account. PWM is a switch and it switches too fast for the system to reach the _full-on_ or the _full-off_ state that you assume for your calculations. 

You'll have to wrap your mind around the fact that there is real current<->voltage conversion happening and it **is** important how it happens. The statement that only the battery power matters is, unfortunately, not correct:

The ESC-motor-combination inevitably leads to current(I)<->voltage(U) conversion. In the presence of L, C and a flipped switch (PWM) dictates it! And the exact way it happens plays a huge role. The total power in every element of your circuit  is the current multiplied by the voltage drop over this element. But depending on the position of the element in a complicated network of L, C, and R, the voltage in every element **changes at an individual rate** and not at the same rate as the current **and** on top of that the current can take different paths!

You can read a bit on LC-circits and impedance if you like to know more:
https://en.wikipedia.org/wiki/LC_circuit#Impedance
https://en.wikipedia.org/wiki/Buck_converter

You can imagine a situation like this: The power from the battery is stored in voltage in C, and current in L. It can be released in bursts. The exact way you do it can drastically influence how much of the power is wasted. At the time of high current (maybe due to L) and switched on voltage (PWM on) and you try to convert it into power in a specific element of your circuit. But a still charged C can reduce the voltage in your element to almost 0. This can be the overall case for the entire circuit: this is how the build up and release of power in the circuit works in the first place!

What can happen is that you want to use your power in a specific element. But if in the phase of high current a capacity keeps the voltage in your desired element low, while another element is at high voltage, this is where your power goes. Your conversion rate can drop to more or less 0 in this case.

 You of course have to find smart ways to avoid this. Meaning you have to design your circuit well in therms of R, L and C. And on the other hand FOC is also connected to it. Current is in general converted to power by sending it through a voltage. FOC tries time the current in a way that is converted to torque in the most efficient way instead of flowing at times where it would mostly just heat a resistor that is momentarily at high voltage.
```

---
## \#167 Posted by: SimosMCmuffin Posted at: 2016-08-09T09:21:18.850Z Reads: 55

```
True. In our examples we have used an equivalent circuit with a purely resistive load and I'm not absolutely saying you're wrong in pointing this out. I'm just internally groaning because the accurate math gets really, REALLY annoying with the addition of capacitance, inductance and PWM frequency.

What is your background with electronics and circuit design, as I don't believe a layman would know to point this out? Are you a electronics hobbyist or are you a student somewhere?


[quote="Mathias, post:166, topic:6910"]
PWM is a switch and it switches too fast for the system to reach the full-on or the full-off state that you assume for your calculations.
[/quote]
So if we were to do correct calculations we would need to use the RMS voltage of the duty cycle and then calculate out how the circuit behaves in _time domain_ with the capacitance and inductance and their related ESR resistances?
```

---
## \#168 Posted by: Mathias Posted at: 2016-08-09T10:04:43.484Z Reads: 58

```
Well, I am actually a physicist. So I can't explain you the detailed mechanisms in the VESC without thoroughly reading into it. But independent of my background, I only made quite basic statements about the way L, C, and R behave in a circuit. To get a good idea how they behave I think there is no way to avoid this kind of math.
If you want to understand what's happening in the VESC and how power, voltage, and current are distributed it is probably a good idea to have a look here:
https://en.wikipedia.org/wiki/RLC_circuit

And solve the equations for a few of the very basic RLC circuits. Every electrical component including a simple copper wire has an R, L, and C. You can play with the numbers and get a feeling in what situations you can neglect them and when you can't. E.g. how a high, low, or band pass filter works. Or why you need a spark protection switch for your battery. 

But you'll probably agree already that in case of a PWM signal fed into a circuit with a high L coil (the motor!), this is not the situation where you can neglect L. And for sure at no point the current through the coil will reach anything close to 7000 A.
```

---
## \#169 Posted by: Mathias Posted at: 2016-08-09T10:46:34.742Z Reads: 52

```
[quote="SimosMCmuffin, post:167, topic:6910"]
So if we were to do correct calculations we would need to use the RMS voltage of the duty cycle and then calculate out how the circuit behaves in time domain with the capacitance and inductance and their related ESR resistances?
[/quote]

In a sense yes, time domain is necessary, BUT often it is sufficient to compare the components those very simple RLC circuits in the **frequency domain** (to be overly mathematical: time and frequency domain are equivalent and connected via Fourier transformation).

Even if we rarely have sinus waves this gives you a first idea how to treat your circuit in a sense that you can compare the frequency omega to the time frame. The easiest possible example in this context: why doesn't the L and C of a copper wire matter? The frequency of the copper wire is: 
omega = 1 / sqrt(C*L)
Since C and L are tiny the frequency becomes virtually infinite, meaning the wire will follow changes in the circuit too fast to even notice. Now you connect the motor with a huge inductance and vary the voltage by quickly switching the PWM. 
PWM is much faster than omega so the current will not even notice the actual ramping up of the PWM voltage. However, over time, the current increases (integrates) over the on-period and decreases while off. 
That is how PWM works. The copper wire responds with a swift back and forth current flow, following even the PWM ramp. The coil only cares about the larger time frame and only the duty cycle matters. This principle is used to build buck converters, or frequency generators.

When you get the hang of it you can look at more complex circuits as a combination of the very simple RLCs.
```

---
## \#170 Posted by: SimosMCmuffin Posted at: 2016-08-09T11:03:00.203Z Reads: 45

```
[quote="Mathias, post:169, topic:6910"]
PWM is much faster than omega so the current will not even notice the actual ramping up of the PWM voltage. However, over time, the current increases (integrates) over the on-period and decreases while off. That is how PWM works.
[/quote]
And this "sawtoothy" looking waveform becomes the "ripple voltage/current", so to get smaller ripple we _usually_ put a honking big electrolytic cap on the output to filter it and it happens because it lowers the RCL circuits omega even lower. In the case of a normal DC-DC converter. Am I correct or am I misunderstanding/missing something?

I am familiar with these calculations, but due to actually never really using them outside of the class room or school work I lack practical experience to apply them. So this is really a bit of rehearsing to me.
```

---
## \#171 Posted by: PB1 Posted at: 2016-08-09T11:10:13.393Z Reads: 50

```
Thanks for posting Mathias, I'm glad that somebody else has stepped in ... :-) . 

You are absolutely right that L and C have a big influence on the overall system and that they slow down the increase and decrease of voltage and amps. 

I tried to avoid the L and C discussion altogether because it get's quiet complicated to calculate the values and I stated that we should work with a simplified model. Maybe I should have stated the reasons why. 

Further I think that every eSkater should understand the following simplified modell: 

* we have a battery with a more or less constant DC Voltage, Amps can go very high but amps above C rating is not good for battery
- the ESC has a battery DC voltage as input
- the ESC commutates (converts) the battery DC voltage to a lower voltage using Pulse Witdth Modulation (PWM) - output is a voltage that looks somewhat like AC, we could calculate it but its complicated so we don't (:-) ), just think average voltage lower than battery voltage
- our motors are AC machines (motors), we can calculate the AC voltage in the motor, it is: Um = RPM*Kv
- motor current will be higher than battery current and depends on motor load, a slow running motor producing high power will draw a lot of amps
- voltage and current are lazy in changing values because of impedance (L) and capacitance (C) in the motor
- ESC out (average) voltage is responsible for accelerating the motor, if it's higher than current motor voltage, the motor accelerates, if it is lower, the motor slows down 

- main loss in the motor is produced by motor current going through it's internal resistance (Ri)
- Power the motor produces is P= Um * Im
- loss in the motor is Pl= Ri * Im * Im 

- overall Power stays the same: P = Pbattery = Pmotor = Ub * Ib = Um * Im       (this is simplified, without the losses) 

And we don't need to calculate with duty cycle or anything. 
Once we can agree on the above simplified model, we can dig one level deeper and have a specific look at the battery side, at the ESC (which is very complex itself) and at the motor side and add more levels of complexity, e.g. have a look at the various losses.
```

---
## \#172 Posted by: Mathias Posted at: 2016-08-09T11:57:31.240Z Reads: 57

```
I agree. The VESC is an amazingly smart piece of hardware that keeps things efficient in many situation and you don't even have to worry about the details (e.g. the easily setup of FOC). 
But I think a rough overview of what happens is mandatory to make an efficient build! And efficiency is really what I am most interested in. I already discussed a bit in this thread:
http://www.electric-skateboard.builders/t/how-a-bldc-motor-works-and-why-a-hub-motor-gets-hotter/6753/65

On the battery side I think there is not much magic happening. Keep the voltage as high as your ESC can take and you're good. The ESC will also be more efficient this way. 

In my opinion the motor side is the real mystery that waits to be solved! As I said, I am a physicist and understand at least all the basic concepts behind the energy loss and electronics and so forth. But I completely lack the experience with actual electronic and mechanical setups! It can't be so tough to figure it out with some testing+google...

I am for example not so sure how to evaluate the different loss channels: resistive heating, friction, remagnitization energy! This is connected to one of the big questions: hub motor vs. timing belt! 
I think we need to pay more attention to the details. So far I have never seen a report that would allow to make a quantitative call about the real efficiency of hub motors climbing hills! That the motor gets slow and hot when you have:

1) too high KV
2) too low voltage
3) too high power (maximum power means bad efficiency)

is not a huge surprise. 

Yes, higher RPM (>6000) tend to increase the efficiency and for ONE specific motor you can find how much drop in efficiency you should expect when you stay too low (too high torque). 
But you can compensate for that to some extend with lower KV. Where is the limit of that before it becomes unfeasible to go even lower? I would be really interested in the performance in the efficiency of a 50KV, 12s hub motor. Is that mechanically possible for a motor of that size?

I like the idea of avoiding the timing belt friction altogether, but where is the break even point in efficiency compared to a hub motor? VESC should allow for a very easy analysis of the torque vs. efficiency behavior!
```

---
## \#173 Posted by: SimosMCmuffin Posted at: 2016-08-09T12:02:11.823Z Reads: 53

```
That is a very comprehensive summary!

So we are basically disregarding the "slowness / ramp up / integration" caused by the capacitance (don't motors have only a very low parasitic capacitance?) and inductance by using the simplified model?

[quote="PB1, post:171, topic:6910"]
Once we can agree on the above simplified model, we can dig one level deeper and have a specific look at the battery side, at the ESC _(which is very complex itself)_ and at the motor side and add more levels of complexity, e.g. have a look at the various losses.
[/quote]
I don't know in what way you mean "complex", but having designed and run my own ESC on my board, it's really not that complex, unless we start to factor in the "ohmic region" losses in the mosfets, which is the region where they are only partially conducting and acting more like a resistor. Otherwise it really is just a switch with a conducting resistance.

Regarding the FOC, it just keeps the "torque vector" always at optimal angle, where as in my ESC which uses 3 latching hall-sensors it has "timing" losses caused by the resolution of the hall-sensors.
```

---
## \#174 Posted by: PB1 Posted at: 2016-08-09T12:07:23.698Z Reads: 50

```
so we are in line here - one happy family :-) ! 

Fully agree, we need more data. I've done a very simple sheet that models some data based on "fixed input": Kv, battery voltage, gearing, Wheels size and some variables like speed and power. 
Calculated are RPM motor, RPM wheels, motor voltage, motor current, battery current, power lost to internal resistance

Now I would like to compare that to real data, but for this we need to have the data. I know there are external data logger. 
But ... VESC has all of the data. But so far seems to be able to get it out. 

I would love to see an external VESC data logger, e.g. arduino with a SD card. I would even be willing to contribute some money. Maybe I will launch a competition for the best project. Anybody else contributing?
```

---
## \#175 Posted by: SimosMCmuffin Posted at: 2016-08-09T12:22:33.438Z Reads: 51

```
I peeked at the
http://www.electric-skateboard.builders/t/how-a-bldc-motor-works-and-why-a-hub-motor-gets-hotter/6753/65?source_topic_id=6910


So if we model our motor as a coil in series with a resistor, then the actual power (kinetic) we get out of the motor is the voltage loss across the resistor? And then the other loss that we can't use to accelerate (loss) is the voltage loss across the coil as the power it needs to re-magnetize itself and this is current dependent?

Or is the otherway around? Voltage loss across the coil is the power that gets converted to kinetic and voltage loss across the resistor is the lost heating power? My head is still a bit in jumbles, as my previously learned concepts come back.
http://www.rroij.com/articles-images/IJAREEIE-1819-g001.gif
```

---
## \#176 Posted by: PB1 Posted at: 2016-08-09T12:27:49.449Z Reads: 50

```
Other way round!!!

Voltage loss across the coil is the power that drives
the voltage loss across the resistor is lost heating power,

Btw, in the motors we use typical Ri is around 0,015Ohm
```

---
## \#177 Posted by: SimosMCmuffin Posted at: 2016-08-09T12:30:29.634Z Reads: 50

```
[quote="SimosMCmuffin, post:175, topic:6910"]
Or is the otherway around? Voltage loss across the coil is the power that gets converted to kinetic and voltage loss across the resistor is the lost heating power? My head is still a bit in jumbles, as my previously learned concepts come back.
[/quote]

That's what I also started thinking when I wrote the post as any power in a resistor is just converted to heat. So the voltage loss across the coil actually corresponds to the created magnetic field's strength. Correct?

That's why I also thought the simplified circuit was a bit odd, because if the motor was represented as a resistor all the power in the multiple hundreds of watts would be pure heat loss :smiley: . When in fact only a small part of the power loss happens in the winding resistance and most of it goes to creating the magnetic field.
```

---
## \#178 Posted by: PB1 Posted at: 2016-08-09T12:37:55.492Z Reads: 47

```
correct. 

Except that I don't like the words "voltage loss" for the coils, it should actually be "voltage gain" ... ;-) 

The simplified model has to include the coil (C and L), I just put it as back-EMF voltage. Otherwise the model is useless. 

Then I think the plus / minus for the e are somewhat misleading as this is AC voltage. What does the source of your picture say?
```

---
## \#179 Posted by: Mathias Posted at: 2016-08-09T12:39:32.021Z Reads: 50

```
The power output of the motor is the product of torque (T) and angular velocity (w). w is proportional to RPM
Rotational energy:
E = 1/2 * M * w^2 ; (M = moment of inertia)

P = dE/dt = 1/2 * M * 2 * w * dw/dt 
M * dw/dt = T (definition of torque)

=> P = T * w
torque T is proportional to the current.
```

---
## \#180 Posted by: PB1 Posted at: 2016-08-09T12:57:10.172Z Reads: 51

```
Thanks Mathias, makes sense

I've pointed out in several threads that torque of a motor is proportional to the current in the motor. In fact every motor has a so called torque constant Kt. It's related to the Kv: Kt=1/Kv

=> P = Kt * I * w = I * w / Kv (careful with units!)
```

---
## \#181 Posted by: SimosMCmuffin Posted at: 2016-08-09T13:02:12.121Z Reads: 56

```
Regarding to this:

[quote="Mathias, post:65, topic:6753"]
This an idealized graph for ONE specific motor, and this is imporant: for one KV value (RPM/Voltage). One important fact that people should pay more attention to is that the maximum power is not where you find the maximum efficency! 

To increase efficiency you should run your motor at a high RPM and low torque. This is why you should use a small motor pulley and a large wheel pulley in a timing belt setup. This can bring you to the left side of the graph, where the efficiency is high. 

Also you can lower KV, which should more or less scale the x- and the y-axis. It will give you higher torque at lower current. Therefore you can keep the torque load further from the maximum that the motor can do. Reduce the speed, increase the maximum torque, then you can shift the maximum efficiency to lower RPM. 

To estimate what "high RPM" means we can calculate some numbers: The largest gear reduction that you can usually get is around 12:36 . Let's assume we want a maximum speed of 35 km/h (21.7 mph). At 83 mm wheels this means the motor will run at ~6630 RPM. The KV that you need for this at 12s is  ~150 RPM/V (!!!). This way you can run your motor close to the maximum efficiency.  

What makes hub motors become so hot? The lowest KV of a hub motor that I have seen so far is around 75 RPM/V, which leads us to a theoretical top speed of 52.7 km/h (32.8 mph)! So why do you not reach it? If you can't get close to this RPM it means that your load is too high! You run at a regime at too high torque load, too high power (center of the graph), and low efficiency. Your motor will get hot because it wastes a too much of the precious power from your battery pack!
[/quote]

It's all about matching the load to the motor. Wouldn't in this example a 50 kV hub motor have the same loading when you account the 12:36 reduction with the 150 kV motor. The real world problem being that there really aren't same size hub motors that were so high wound to get the 50 kV rating? So therefore you have to use higher kV hub motors which causes bad load matching (impedance matching) and tun in the less efficient (right side in the graph) area.

But you would get higher efficiency with a same size 50 kV hub motor, because it wouldn't have the belt friction losses? Problem being that the motors don't really exist in the market.
```

---
## \#182 Posted by: devin Posted at: 2016-08-09T14:06:27.828Z Reads: 47

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#183 Posted by: Mathias Posted at: 2016-08-09T15:01:19.099Z Reads: 51

```
No ramping, no FOC, no further limitations due to the electronics? 
100% I would guess because this is what you need to ramp up the motor current at maximum speed. You'll hit the limit fast though. 
You can watch this video to get an idea. In this case there is a motor current limit of 50 A, and ramping as limitation of the duty cycle change:
https://www.youtube.com/watch?v=nGb-zt2Jp9k
```

---
## \#184 Posted by: devin Posted at: 2016-08-09T15:05:45.014Z Reads: 50

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#185 Posted by: PB1 Posted at: 2016-08-09T15:06:12.224Z Reads: 54

```
[quote="devin, post:182, topic:6910"]
If a motor's winding resistance is 0.007 ohm, battery voltage is 50V, and you set a Motor Amp Limit of 750 amps... at 0 rpm, full throttle:

What will the ESC duty cycle value % be?
[/quote]

Very simple: if you go full throttle, your duty cycle is 100%


I suppose this is not the answer you expected, but it's true. 

Your correct question should be: 
_"If a motor's winding resistance is 0.007 ohm, battery voltage is 50V, and you set a Motor Amp Limit of 750 amps... at 0 rpm, full throttle:_

_What will the voltage and current in the motor be? "_

And the correct answer to this question is: there is not enough information to answer this question. In order to calculate it we would have to know 1)  C and L of the motor and it will and 2) it is also a function of time or RPM because the motor spins up and then the values change.
```

---
## \#186 Posted by: devin Posted at: 2016-08-09T15:07:14.203Z Reads: 54

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#187 Posted by: Mathias Posted at: 2016-08-09T15:13:58.536Z Reads: 51

```
[quote="devin, post:186, topic:6910"]
So you think with a Motor Amp Limit Setting in ESC of 750 amps it equals 100% duty cycle? Yes?
[/quote]

No. At 0 RPM, 0 current the things are unrelated.
```

---
## \#188 Posted by: devin Posted at: 2016-08-09T15:15:12.567Z Reads: 46

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#189 Posted by: Mathias Posted at: 2016-08-09T15:22:39.701Z Reads: 49

```
The voltage is proportional to the **change** of the current. You want full throttle, so you want 100% until you reach 750 A.

https://en.wikipedia.org/wiki/Inductance
```

---
## \#190 Posted by: devin Posted at: 2016-08-09T15:23:55.466Z Reads: 43

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#191 Posted by: Mathias Posted at: 2016-08-09T15:29:44.403Z Reads: 39

```
I don't disagree with @PB1. He is correct. I only told you what you should do if you want to increase the current as fast as possible. But I already said that.
What your ESC should do is to give you the torque that you want. For that it should send the right current through the motor. To ramp the current up, increase the duty cycle and vice versa.
```

---
## \#192 Posted by: PB1 Posted at: 2016-08-09T15:31:13.625Z Reads: 42

```
@devin, don't quote me out of context!!!!! I will not play that game!

I said if you pull full throttle, duty cycle is 100%, @Mathias says the same.

Then I said we can't calculate the **current** going through the motor. 

No games please!
```

---
## \#193 Posted by: devin Posted at: 2016-08-09T15:33:40.514Z Reads: 42

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#194 Posted by: Mathias Posted at: 2016-08-09T15:40:40.250Z Reads: 41

```
The inductance at first, then the motor current limit. Also the voltage over the motor drops as the (negative) voltage produced by the motor is proportional to the RPM.
```

---
## \#195 Posted by: devin Posted at: 2016-08-09T15:41:57.203Z Reads: 47

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#196 Posted by: SimosMCmuffin Posted at: 2016-08-09T15:43:38.366Z Reads: 49

```
Here is what happens if we just connect the phase winding directly to the battery.
<img src="/uploads/db1493/original/2X/c/c05a3ec2cccdf950514b5b0de33c4e42639c5e66.jpg" width="637" height="500">

At the beginning when the switch is closed all the power goes to the coil as it starts to energize it's magnetic field, but as it energizes more and more the power loss moves over to the resistive side. Once this charge stabilizes (the magnetic field becomes saturated), the coil is essentially a short circuit and all the power loss happens in the resistance of the winding.

The component values are just numbers that seemed reasonable.
[
http://www.falstad.com/circuit/](http://www.falstad.com/circuit/circuitjs.html?cct=$+1+0.000005+15.472767971186114+50+5+43%0Ar+384+64+384+176+0+0.007%0Ac+336+336+336+224+0+0.000001+-50%0Al+384+176+384+240+0+0.000039999999999999996+7140.1667688285515%0Av+144+336+144+64+0+0+40+50+0+0+0.5%0Aw+336+336+144+336+0%0As+144+64+336+64+0+0+false%0Aw+336+336+384+336+0%0Aw+384+336+384+240+0%0Aw+384+64+336+64+0%0Ar+336+224+336+64+0+0.007%0Ao+2+64+0+35+80+13107.2+0+-1%0Ao+0+64+0+35+80+13107.2+1+-1%0A) Here's the java based browser simulator and it should with this link, open this same circuit.
```

---
## \#197 Posted by: devin Posted at: 2016-08-09T15:45:34.583Z Reads: 42

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#198 Posted by: SimosMCmuffin Posted at: 2016-08-09T15:51:07.400Z Reads: 44

```
Yes, if we just kept running the VESC in a sort of static way (FOC disabled), it would likely do this, but once we add the factors of the can's permanent magnets interacting with the phase coils magnetic field and that this in turn starts generating the EMF voltages in the other phases and the VESC's FOC algorithm starts doing it's thing. Hard to what exactly would happen, or at least what the currents and voltages in each winding would look like.
```

---
## \#199 Posted by: devin Posted at: 2016-08-09T15:52:28.654Z Reads: 48

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#200 Posted by: Mathias Posted at: 2016-08-09T15:57:41.318Z Reads: 48

```
Stable current means static case means not influence of the inductance since it is high enough to not follow the PWM at all. So:

D = I_max * R / V_battery = 10,5%
```

---
## \#201 Posted by: devin Posted at: 2016-08-09T15:58:34.294Z Reads: 46

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#202 Posted by: SimosMCmuffin Posted at: 2016-08-09T15:59:54.626Z Reads: 40

```
I'm wondering if it actually turns out to be 10.5% and we are going in circles :joy:

I'll run this through the simulated circuit...
```

---
## \#203 Posted by: PB1 Posted at: 2016-08-09T16:15:31.560Z Reads: 43

```
@devin why do you insist on an answer in "duty cycle". 
Here my take: if you go full throttle,  duty cycle is 100% and the motor spins up.  

If the motor can't spin because it's locked down duty cycle is still 100%, but what happens? 
Remember,  the ESC produces sort of AC,  so inductance will also be there.  Voltage is very low,  current is high? How high exactly? I don't know,  I suppose we could calculate or extrapolate it.  But I don't care.  

In real life the ESC will try to spin up the motor using all sorts of tricks depending on the implementation of the ESC.  Maybe it tunes down the duty cycle...
```

---
## \#204 Posted by: devin Posted at: 2016-08-09T16:16:38.567Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#205 Posted by: PB1 Posted at: 2016-08-09T16:19:33.676Z Reads: 41

```
In theory the duty cycle is 100% because you go full throttle.
```

---
## \#206 Posted by: devin Posted at: 2016-08-09T16:20:37.910Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#207 Posted by: SimosMCmuffin Posted at: 2016-08-09T16:22:26.490Z Reads: 44

```
Not with the VESC and FOC necessarily, it will lower the duty cycle if the motor current is going over the set limit, because this will lower the current. The duty cycle will be 100% if the current doesn't go over the set "motor current limit"

The FOC is a bit problematic in that regard, is that you don't directly set the PWM with your throttle position, but rather the wanted torque vectors length, which is controlled by a PID control loop. My controller, due to being more sucky, uses direct throttle to PWM control.
```

---
## \#208 Posted by: Mathias Posted at: 2016-08-09T16:23:28.267Z Reads: 44

```
OK, I am done I guess... This are answers to two different questions.
```

---
## \#209 Posted by: devin Posted at: 2016-08-09T16:24:16.041Z Reads: 49

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#210 Posted by: devin Posted at: 2016-08-09T16:26:34.503Z Reads: 47

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#211 Posted by: SimosMCmuffin Posted at: 2016-08-09T16:33:23.921Z Reads: 45

```
Ok, so I think I know why the motor is much more efficient at the higher RPMs, or specifically at about 85% of the no load speed. It has to do with the losses of the coil and losses of the resistance over time. After switching the plots at the bottom to show power, instead of voltage and current, a clear curve emerged.

<img src="/uploads/db1493/original/2X/d/dcb6adcb41f231d564eeb1525c28c38ef5516aa1.jpg" width="690" height="117">

Now if you look at the inductor/coil's power curve you can see that it has it's max power at about 15% into the period at which any real power loss happens in the coil. So at 15% when it has it's highest power peak, this mean that it is charging it's magnetic field the fastest and higher the current going through the coil the stronger the torque is. And when you turn this around and factor in the RPM, curve from

http://members.toast.net/joerger/pic2/motorcurve.gif

It would mean that at 85% RPM the coil spends most of it's time at the fast magnetic field charging state and the resistive losses don't have time to grow.

**I am willing to bet** that if you were to multiply those two plots from the simulation with each other, it would turn out exactly the same way as the efficiency curve from the BLDC power curve
```

---
## \#212 Posted by: SimosMCmuffin Posted at: 2016-08-09T16:45:49.218Z Reads: 38

```
I think the VESC would first turn the duty cycle to 100% when you push the throttle and then, when the measurable current in the phase rises to the "motor current limit", the VESC would start lowering the duty cycle to stay under the limit and if you just kept throttling and throttling, the duty cycle would slowly decline to the 1.102% at which point all the power loss happens as a resistive loss and you're heating the motor with ~3.8kW.
```

---
## \#213 Posted by: devin Posted at: 2016-08-09T16:47:43.156Z Reads: 40

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#214 Posted by: SimosMCmuffin Posted at: 2016-08-09T16:52:38.632Z Reads: 41

```
In a sense, yes. Even lights have a "slowness" to them, especially CFLs.
For example an incandescent light bulb has to first heat up it's filament, before it starts producing light. It's short time, but it's there.
```

---
## \#215 Posted by: PB1 Posted at: 2016-08-09T16:56:34.891Z Reads: 40

```
You forgot that the esc is producing sort of AC,  not DC.  So there is always induction which limits AC current.  

The answer to @devin question is:
- in theory duty cycle is 100% because of full throttle 
- we don't know how much current will flow because we don't have all of the motor parameters 
- in real life the ESC will limit the duty cycle because the motor is not spinning up
```

---
## \#216 Posted by: devin Posted at: 2016-08-09T16:57:21.756Z Reads: 38

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#217 Posted by: PB1 Posted at: 2016-08-09T16:59:52.384Z Reads: 39

```
Based on the implementation of the ESC.  No values you can calculate anymore.  

For the VESC we would have to look into vedders code.  You can't calculate it,  it will be arbitrary values.
```

---
## \#218 Posted by: SimosMCmuffin Posted at: 2016-08-09T17:00:09.114Z Reads: 42

```
It might be just a protection feature. "We're pumping a lot of current to the motor, but hall sensors or back EMF are telling that nothing is changing" --> "motor is jammed or broken, cut the power"
```

---
## \#219 Posted by: devin Posted at: 2016-08-09T17:00:38.092Z Reads: 42

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#220 Posted by: PB1 Posted at: 2016-08-09T17:00:44.124Z Reads: 38

```
Thank you,  sir
```

---
## \#221 Posted by: devin Posted at: 2016-08-09T17:02:58.521Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#222 Posted by: PB1 Posted at: 2016-08-09T17:03:25.748Z Reads: 41

```
Now we should all donate some money to onloop because we wasted a lot of his precious server resources just to show who has the longest.
```

---
## \#223 Posted by: PB1 Posted at: 2016-08-09T17:15:52.279Z Reads: 45

```
Sure,  check vedders code.  

Still don't know why you are insisting.  Your question is not even very relevant and you now have all of the answers.  

I'm finally done with this question.
```

---
## \#224 Posted by: devin Posted at: 2016-08-09T17:17:49.749Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#225 Posted by: SimosMCmuffin Posted at: 2016-08-09T17:21:41.418Z Reads: 38

```
In theory it would start at 100% and then decline to the 1.102%, but more then likely the VESC's firmware would have some safety features to detect, that the motor is not turning and then either completely turning PWM or lowering even more (but we're already at 1.102% so no going much lower than that :expressionless:)

TLDR, no we don't know what would happen, unfortunately.
```

---
## \#226 Posted by: devin Posted at: 2016-08-09T17:23:00.230Z Reads: 42

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#227 Posted by: SimosMCmuffin Posted at: 2016-08-09T17:26:21.142Z Reads: 41

```
The problem is that there is no equivalent circuit for the ESC, because it does what it's programmed to do. Now if you were to decompile and study the firmware you probably could figure out what would happen in your scenario, but good luck learning the firmware. Vedder could probably give the best short answer to this, as he wrote it, so he knows how the firmware would "react" to this scenario.
```

---
## \#228 Posted by: devin Posted at: 2016-08-09T17:27:31.263Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#229 Posted by: SimosMCmuffin Posted at: 2016-08-09T17:32:19.987Z Reads: 43

```
[quote="SimosMCmuffin, post:212, topic:6910, full:true"]
I think the VESC would first turn the duty cycle to 100% when you push the throttle and then, when the measurable current in the phase rises to the "motor current limit" **(750A)**, the VESC would start lowering the duty cycle to stay under the limit and if you just kept throttling and throttling, the duty cycle would slowly decline to the 1.102% at which point all the power loss happens as a resistive loss and you're heating the motor with ~3.8kW.
[/quote]

Because once it reaches that 1.102% the motor winding would pull that 750 amps. And Vedder would grill a sausage on the motor, while the VESC would watch itself and the world burn :sunglasses:
```

---
## \#230 Posted by: devin Posted at: 2016-08-09T17:34:48.014Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#231 Posted by: SimosMCmuffin Posted at: 2016-08-09T17:38:23.879Z Reads: 42

```
Sit back, crack open a beer (or whatever you like to drink), pull in a long breath and release it with a big sigh...
https://dncache-mauganscorp.netdna-ssl.com/thumbseg/605/605025-bigthumbnail.jpg
```

---
## \#232 Posted by: Mathias Posted at: 2016-08-09T21:27:24.178Z Reads: 46

```
Sorry guys, to burst the happy conclusion bubble but this is not how it works. The 1.1% is apparently still based on the miraculous 7000 A current spikes in the on-cycle that simply do not exist. Also this "same power on both sides in one duty cycle"-law is not correct and is **not** the voltage to current conversion that Vedder was talking about.
Just check this circuit out for yourself:

[http://www.falstad.com/circuit](http://www.falstad.com/circuit/circuitjs.html?cct=$+1+5e-7+16.81741416518454+63+5+50%0A165+672+272+688+272+0+0%0AR+736+240+736+224+0+0+40+50+0+0+0.5%0AO+800+336+848+336+0%0Aw+672+304+640+304+0%0Ar+640+304+640+240+0+300%0Aw+640+240+736+240+0%0Aw+640+400+672+400+0%0Ac+640+400+640+448+0+0.000003+1.5027949439799493%0Ag+640+448+640+464+0%0Aw+640+368+640+400+0%0Aw+640+368+672+368+0%0Ar+640+304+640+368+0+300%0Ac+864+368+944+368+0+1e-10+2.7228932700042403e-9%0Ar+944+368+1024+368+0+0.007%0Ar+944+416+1024+416+0+0.007%0Al+944+416+864+416+0+0.00009999999999999999+0%0Aw+800+336+800+368+0%0Aw+800+368+864+368+0%0Aw+864+368+864+416+0%0Aw+1024+368+1024+416+0%0Aw+1024+368+1104+368+0%0Aw+1104+368+1104+544+0%0Aw+1104+544+576+544+1%0Aw+576+544+576+448+0%0Aw+576+448+640+448+0%0A172+736+432+736+496+0+6+0+50+0+0+0.5+Voltage%0Ao+15+64+0+679+0.0000762939453125+0.00009765625+0+2%0Ao+16+64+0+551+0.0000762939453125+0.00009765625+1+2%0A)

Please play the ESC of a blocked motor and set a duty cycle with the voltage slider (0 V for 0%, 50 V for 100%). Look how the current is unable to follow the PWM signal. You can decrease L by a factor of 10 or 100 for a change and see how the current starts to react more swiftly. 
To stick to the current limit of 750 A you have to keep the duty cycle at ~11% as I wrote before. 
This can be enlightening in therms of AC-circuits. An actual rotating motor controlled by VESC is far more complex.
```

---
## \#233 Posted by: SimosMCmuffin Posted at: 2016-08-10T00:06:00.690Z Reads: 46

```
Correct, found also the explanation why using the RMS voltage of the duty cycle is not applicable in this case:
> For a cyclically alternating electric current, RMS is equal to the value of the direct current that would produce the same power dissipation in a **resistive load.** 
https://en.wikipedia.org/wiki/Root_mean_square
```

---
## \#234 Posted by: devin Posted at: 2016-08-10T00:21:46.538Z Reads: 43

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#235 Posted by: SimosMCmuffin Posted at: 2016-08-10T01:10:30.803Z Reads: 43

```
I think it's time to bury this question, as many of the things with it are not applicable in any practical situations. BUT, for the sake of discussion, I think we first need to point out that this is an purely ideal situation and the VESC couldn't be used, as I will try to point out. We actually need inductance and capacitance or "slowness" in the system for the VESC to be usable. 

So we have an ideal PWM waveform generator that is connected directly across of a 7 mOhm ideal resistor. Our voltages are 50V in the on-state and 0V in the off-state. We want an average of 750 Amps to flow through our ideal resistor, what is the duty cycle that we need to use?

So when our PWM generator is in the on-state, the resistor will have 50 volts across it in an instant.
P = U^2 / R = 357143 Watts and a current of 7142.6 Amps (<-- this is why we couldn't use the VESC, because it wouldn't know what to do as the current would either be 0A or 7142.6A when it takes a measurement)

But we want that 750 average Amps to run through it so what do? We'll we can calculate the power it needs on average to have that 750 Amps. P = I^2 * R = 3937.5 Watts. So what is our average voltage over resistor then? U = P / I = 5,25 V

Then to figure out the duty cycle.
We can use the instant power versus average power we want: DutyCycle = WantedPower / InstantPower = 3935,5W / 357143W = 1.10 %
Or calculate it through the RMS voltage equation for square wave Vrms= Vpk*sqrt(DutyCycle), first solving for DutyCycle we get DutyCycle = (Vrms / Vpk)^2 = (5,25V / 50V)^2 = 0,0110 = 1.10%

So in this ideal, not a real life applicable scenario, we would use a duty cycle of 1.10% to get a average current of 750 Amps to flow through the resistor.

Now can we bury this particular question/scenario
```

---
## \#236 Posted by: devin Posted at: 2016-08-10T01:51:10.342Z Reads: 43

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#237 Posted by: SimosMCmuffin Posted at: 2016-08-10T01:56:40.567Z Reads: 43

```
[quote="devin, post:236, topic:6910"]
50V DC Ideal Power Supply, .007ohm winding resistance, 750 Amp Motor Limit Setting in ESC [only electronic safety feature], full throttle, 0rpm [motor locked in vice]
[/quote]

No, this is not the scenario I laid out above. I very specifically said that we were just talking about an ideal resistor and not a motor winding, which is **not** an ideal resistor, therefore also the result of the 1.10 % duty cycle doesn't apply to it. Mathias is correct with 
[quote="Mathias, post:232, topic:6910"]
http://www.falstad.com/circuit

Please play the ESC of a blocked motor and set a duty cycle with the voltage slider (0 V for 0%, 50 V for 100%). Look how the current is unable to follow the PWM signal. You can decrease L by a factor of 10 or 100 for a change and see how the current starts to react more swiftly. To stick to the current limit of 750 A you have to keep the duty cycle at ~11% as I wrote before. This can be enlightening in therms of AC-circuits. An actual rotating motor controlled by VESC is far more complex.
[/quote]

11% demonstrated with the simulator circuit.
```

---
## \#238 Posted by: devin Posted at: 2016-08-10T03:49:28.667Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#239 Posted by: Mathias Posted at: 2016-08-10T06:57:08.594Z Reads: 47

```
This has nothing to do with bucked down voltage. This is not a buck converter. 
https://en.wikipedia.org/wiki/Buck_converter

C is small, so you have instantaneous 50 V while on, and 0 while off. No delayed or converted voltage. [quote="Mathias, post:200, topic:6910, full:true"]
Stable current means static case means not influence of the inductance since it is high enough to not follow the PWM at all. So:

D = I_max * R / V_battery = 10,5%
[/quote]

I got the 10,5% by making the following approximation: L = inf, C = 0. It agrees well with the circuit and becomes of course better when you increase L and veduce C. 
If you want the 7.1 kA current spikes you have to assume L ~= 0. Set L = 1pH in the circuit and you see what happens:
Instant 50V, 7.1 kA in on-state
Instant 0V, 0 A in off-state

But it makes no sense to talk about the current limit in this case. On means instant short. This is going toward the ideal resistor.
```

---
## \#240 Posted by: Mathias Posted at: 2016-08-10T11:35:51.903Z Reads: 45

```
[quote="Mathias, post:239, topic:6910"]
This has nothing to do with bucked down voltage. This is not a buck converter.
[/quote]

Thinking about that I should probably take this partially back. When you think only about the resistor behind the coil you'll notice that the voltage is actually roughly the average voltage of the PWM signal. Obviously, because it is passed by the current of the average voltage. So in a sense the voltage in the L = inf case, that leads to D ~=11 %, is stepped down similar to a buck converter. However, there is no stepping up of the current in return. 

What I wanted to point out is that in the L ~= 0 case, the case that you considered for the 7.1 kA current in the on-cycle, **there is really no stepping up or down of the voltage or current whatsoever**. The ordinary Ohm law U = R*I applies.
The **average** current then is simply:
I_mean = D * I_on + (1-D) * I_off = D * I_on + 0 = D * U/R
=> D = I_mean / I_on

If you want your mean current to be 750 A then your duty cycle is also then D ~= 11 %. However, this is an extremely unrealistic scenario since it relies on the assumption that the current can instantaneously shoot up to 7.1 kA, which is in _reality_ prohibited by the non-zero L of all your electrical components including ordinary wires, if not already by the limits of your power supply.
```

---
## \#241 Posted by: devin Posted at: 2016-08-10T12:55:11.898Z Reads: 43

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#242 Posted by: Mathias Posted at: 2016-08-10T13:59:27.986Z Reads: 44

```
But your model is not correct. You assume that the transferred power is the product of the average voltage and the average current: 
D*U * D*I = D² * U*I
This is **not** correct. In general you have to integrate P_mean = U(t)*I(t) * dt/t. But, because in this case we can divide the full time into two regions of each constant U and I it comes down to the sum that I posted before:
[quote="Mathias, post:240, topic:6910"]
I_mean = D * I_on + (1-D) * I_off = D * I_on + 0 = D * U/R=&gt; D = I_mean / I_on
[/quote]

For Power that means
**P_mean** = D* I_on * U_on   +  (1-D) * I_off * U_off  
 =   D * I_on * U_on   +  0  
    **=  D * I_on * U_on**       
**not** =        D² * I_on * U_on

That is why your result is the square of mine:  D² = 0.105² = 0.0011

Then it is important to point out that the assumption that the D is the portion of transferred power is **not** correct in general. In any realistic scenario U(t) and I(t) are more complicated and you **have** to calculate the proper integral!

And last but not least: I'd like to point out again that this is an extremely unrealistic scenario and has little to do with how the VESC actually works.
```

---
## \#243 Posted by: devin Posted at: 2016-08-10T14:04:42.493Z Reads: 40

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#244 Posted by: Mathias Posted at: 2016-08-10T14:08:12.056Z Reads: 42

```
The more realistic scenario is L ~100uH, which is the circuit that I posted. 

This: 
[quote="Mathias, post:242, topic:6910"]
For Power that meansP_mean = D* I_on * U_on   +  (1-D) * I_off * U_off =   D * I_on * U_on   +  0    =  D * I_on * U_on     not =        D² * I_on * U_on
[/quote]

Is about L = 0, which was the basis of your initial model.
```

---
## \#245 Posted by: devin Posted at: 2016-08-10T14:15:24.442Z Reads: 39

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#246 Posted by: Mathias Posted at: 2016-08-10T15:16:35.858Z Reads: 40

```
That is exactly what I explain here: 
[quote="Mathias, post:242, topic:6910"]
For Power that meansP_mean = D* I_on * U_on   +  (1-D) * I_off * U_off =   D * I_on * U_on   +  0    =  D * I_on * U_on     not =        D² * I_on * U_on
[/quote]

On means short! There is no way to keep the motor current limit with L=0. You add to your equation that you limit the voltage to **not** exceed the current limit. You only have two voltages available: 0 V and 50 V 
In reality you can keep the motor current limit because L is not 0. This allows you to control the current because it changes slowly and therefore only reacts to the mean voltage. You select the duty cycle at a value that the current settles (and I mean really settles to an almost constant value, not only mean current) to send the desired current of 750 A though R which leads to a constant voltage drop over R that equals the mean Voltage. You can see it all happen in the circuit:
[Circuit](http://www.falstad.com/circuit/circuitjs.html?cct=$+1+5e-7+16.81741416518454+63+5+50%0A165+672+272+688+272+0+0%0AR+736+240+736+224+0+0+40+50+0+0+0.5%0AO+800+336+848+336+0%0Aw+672+304+640+304+0%0Ar+640+304+640+240+0+300%0Aw+640+240+736+240+0%0Aw+640+400+672+400+0%0Ac+640+400+640+448+0+0.000003+1.6129014488758306%0Ag+640+448+640+464+0%0Aw+640+368+640+400+0%0Aw+640+368+672+368+0%0Ar+640+304+640+368+0+300%0Ac+864+368+944+368+0+1e-10+6.797129796787159e-15%0Ar+944+368+1024+368+0+0.007%0Ar+944+416+1024+416+0+0.007%0Al+944+416+864+416+0+0.00009999999999999999+0%0Aw+800+336+800+368+0%0Aw+800+368+864+368+0%0Aw+864+368+864+416+0%0Aw+1024+368+1024+416+0%0Aw+1024+368+1104+368+0%0Aw+1104+368+1104+544+0%0Aw+1104+544+576+544+1%0Aw+576+544+576+448+0%0Aw+576+448+640+448+0%0A172+736+432+736+496+0+6+0+50+0+0+0.5+Voltage%0Ao+15+64+0+679+0.0000762939453125+0.00009765625+0+2%0Ao+16+64+0+551+0.0000762939453125+0.00009765625+1+2%0A)
```

---
## \#247 Posted by: devin Posted at: 2016-08-10T15:20:00.641Z Reads: 37

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#248 Posted by: SimosMCmuffin Posted at: 2016-08-10T15:26:23.254Z Reads: 41

```
We need to revise this question into a theoretical situation looking like this

<img src="/uploads/db1493/original/2X/c/c58a7a434f9ea75a399ba47ed512110e9d6994c5.jpg" width="414" height="341">

And then ask the question, what is the duty cycle when we want 750 Amps RMS AC (-> 5.25 Volts RMS AC) to go through the resistor. Then the answer would be the 1.105 % (10.5% ^ 2).

But we can't factor in the VESC, if it had a current limiting setting on.
```

---
## \#249 Posted by: devin Posted at: 2016-08-10T15:35:30.243Z Reads: 38

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#250 Posted by: SimosMCmuffin Posted at: 2016-08-10T15:55:04.453Z Reads: 42

```
Because in this example we don't have any inductance, so we don't have any limitation to the currents ability to change and the way the ARM MCU measures the current is by voltage over a shunt resistor and the voltage is proportional to the current flowing through that resistor.

Now if we don't have any current slowness (inductance) in the system, then the two possible current's the MCU can measure is either 0A or 7100A (depending if mosfets are conducting or in high impedance). There is nothing in-between those currents in this example. And because it's using FOC it needs to have those in-between currents to determine the position of the motor can and for the current adjustment PID loop to function properly.

And sure we know how to calculate the RMS AC current and figure out what the duty cycle would need to be, but it's impossible for the VESC to figure that out, because it's not programmed to function in this kind of theoretical/ideal scenario.

Once we have inductance in the load, the VESC can be used. And then we need to look at @Mathias example circuit:
[quote="Mathias, post:232, topic:6910"]
Just check this circuit out for yourself:

[http://www.falstad.com/circuit](http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5e-7+16.81741416518454+63+5+50%0A165+672+272+688+272+0+0%0AR+736+240+736+224+0+0+40+50+0+0+0.5%0AO+800+336+848+336+0%0Aw+672+304+640+304+0%0Ar+640+304+640+240+0+300%0Aw+640+240+736+240+0%0Aw+640+400+672+400+0%0Ac+640+400+640+448+0+0.000003+1.5027949439799493%0Ag+640+448+640+464+0%0Aw+640+368+640+400+0%0Aw+640+368+672+368+0%0Ar+640+304+640+368+0+300%0Ac+864+368+944+368+0+1e-10+2.7228932700042403e-9%0Ar+944+368+1024+368+0+0.007%0Ar+944+416+1024+416+0+0.007%0Al+944+416+864+416+0+0.00009999999999999999+0%0Aw+800+336+800+368+0%0Aw+800+368+864+368+0%0Aw+864+368+864+416+0%0Aw+1024+368+1024+416+0%0Aw+1024+368+1104+368+0%0Aw+1104+368+1104+544+0%0Aw+1104+544+576+544+1%0Aw+576+544+576+448+0%0Aw+576+448+640+448+0%0A172+736+432+736+496+0+6+0+50+0+0+0.5+Voltage%0Ao+15+64+0+679+0.0000762939453125+0.00009765625+0+2%0Ao+16+64+0+551+0.0000762939453125+0.00009765625+1+2%0A)
[/quote]
```

---
## \#251 Posted by: devin Posted at: 2016-08-10T15:59:50.771Z Reads: 33

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#252 Posted by: SimosMCmuffin Posted at: 2016-08-10T16:10:07.336Z Reads: 36

```
But you wouldn't go and put a resistor between the motor leads coming from the VESC and expect it to behave like a motor, would you?

So what is the scenario we are talking about here?

Are we using an actual motor winding with inductance, resistance(0.007 Ohm) and parasitic capacitance. If yes, then the duty cycle is 10.5%

If we are connecting it to a pure resistance then it would be RMS AC current wise 1.1%, but the VESC wouldn't function here.

TLDR; What does our circuit look like? Establish the basis of our circuit/model first and then we can continue the discussion, until then I will continue asking you to define the model first before any questions.
```

---
## \#253 Posted by: devin Posted at: 2016-08-10T16:13:39.200Z Reads: 36

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#254 Posted by: PB1 Posted at: 2016-08-10T16:22:33.399Z Reads: 39

```
[quote="devin, post:249, topic:6910"]
Why have 2 separate amp limit settings in the VESC? How will entering the same or different values affect the outcome! That is what I am trying to figure out with all of this.
[/quote]

One last try...  The above question has been answered many times.  
You need to understand that your scenario with the clamp locked motor is causing the problem.  Why?every ESC implements startup differently and we cannot CALCULATE  what happens. 

If you go for a realistic scenario people can do a proper calculation (if you haven't driven them crazy).
```

---
## \#255 Posted by: SimosMCmuffin Posted at: 2016-08-10T16:22:49.396Z Reads: 38

```

the Duty Cycle will be set by ESC to 10.5%
750 Amps @ 50V @ 10.5% duty cycle (50V DC/AC Pulsed Terminology) 3913 watts

78.3 Amps @ 50V(DC Terminology) 3913 watts

750 Amps @ 5.25V RMS AC(3 phase AC Sinsuoidal Terminology) 3913 Watts
```

---
## \#256 Posted by: devin Posted at: 2016-08-10T16:26:03.459Z Reads: 37

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#257 Posted by: devin Posted at: 2016-08-10T16:29:24.599Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#258 Posted by: SimosMCmuffin Posted at: 2016-08-10T17:01:22.396Z Reads: 44

```
Because before you said this:
[quote="devin, post:253, topic:6910"]
So let's keep the exact same model but add in a **realistic inductance and parasitic capacitance** value to the question....
[/quote]
I thought that it was **purely a resistive** load. So I misunderstood what your model was and therefore my calculations were also wrong in relation to your model, but for the model I had perceived they were correct.

Now can we forget this confusion addled misunderstanding :smiley:?
```

---
## \#259 Posted by: devin Posted at: 2016-08-10T17:06:10.836Z Reads: 37

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#260 Posted by: PB1 Posted at: 2016-08-10T17:22:13.772Z Reads: 36

```
Yes we can agree what happens to the motor when it's locked in.  It doesn't move.  

We don't know what happens to the ESC...  :innocent: :innocent:
```

---
## \#261 Posted by: devin Posted at: 2016-08-10T17:25:53.376Z Reads: 38

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#262 Posted by: SimosMCmuffin Posted at: 2016-08-10T17:40:12.379Z Reads: 41

```
[quote="SimosMCmuffin, post:255, topic:6910, full:true"]
the Duty Cycle will be set by ESC to 10.5%750 Amps @ 50V @ 10.5% duty cycle (50V DC/AC Pulsed Terminology) 3913 watts

78.3 Amps @ 50V(DC Terminology) 3913 watts **<-- battery current limit**

750 Amps @ 5.25V RMS AC(3 phase AC Sinsuoidal Terminology) 3913 Watts **<-- motor current limit**
[/quote]

But basically we would set the battery current limit to a value that the battery can safely supply. So say for example we have a 6S 8000 mAh 30C battery -> max 8 A * 30 = 240 A max current to stay within the 30C discharge rating, but I would probably still go only 50% of the max specified discharge current so 120 A battery current limit.

Motor current limit defines the max power you can use at any time and is linked to the kV of the motor. Meaning that same serie motors with different kVs would have different motor current limits. Example, we want 1000 Watts to be our highest continuous power, so with that 6S battery our motor current limit would be I = P/U = 1000W /21.6V =  46.3 A
```

---
## \#263 Posted by: devin Posted at: 2016-08-10T17:41:30.728Z Reads: 41

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#264 Posted by: SimosMCmuffin Posted at: 2016-08-10T17:42:39.454Z Reads: 43

```
Yes, I was just about to edit the post to include that we need to know the motor winding resistance.

Let's say the motor winding resistance is the 7 mOhm so, 
P = I^2 * R  (Solve for I ->) I = SquareRoot(P / R) = SquareRoot(1000W / 7mOhm) = 377 Amps

So
Pulsed term = 21.6V - 377A - 12.3%
DC term = 21.6V - 46.3A
AC term = 2.65V - 377A
```

---
## \#265 Posted by: devin Posted at: 2016-08-10T18:14:00.581Z Reads: 42

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#266 Posted by: SimosMCmuffin Posted at: 2016-08-10T18:24:27.210Z Reads: 46

```
I can finally take a load off my mind as the 1.1% vs 10.5% confusion is solved, now to start doing something productive...
<img src="/uploads/db1493/original/2X/e/e9492db3418b24324623c6d512c0773c2c8df430.jpg" width="689" height="390">
```

---
## \#267 Posted by: devin Posted at: 2016-08-10T18:57:29.546Z Reads: 45

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#268 Posted by: SimosMCmuffin Posted at: 2016-08-10T18:59:50.385Z Reads: 43

```
Is it self-ironic as you asked that question from me and I answered? You tell me why you asked that question.
```

---
## \#269 Posted by: devin Posted at: 2016-08-10T19:00:26.333Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#270 Posted by: Nordle Posted at: 2016-08-10T19:09:47.470Z Reads: 42

```
(post withdrawn by author, will be automatically deleted in 24 hours unless flagged)
```

---
## \#271 Posted by: SimosMCmuffin Posted at: 2016-08-10T19:10:37.308Z Reads: 46

```
Infinite inductance and zero capacitance, but once we establish that there is inductance and some capacitance the values can be calculated with these equations:

[quote="SimosMCmuffin, post:262, topic:6910"]
But basically we would set the battery current limit to a value that the battery can safely supply. So say for example we have a 6S 8000 mAh 30C battery -&gt; max 8 A * 30 = 240 A max current to stay within the 30C discharge rating, but I would probably still go only 50% of the max specified discharge current so 120 A battery current limit.

Motor current limit defines the max power you can use at any time and is linked to the kV of the motor. Meaning that same serie motors with different kVs would have different motor current limits. Example, we want 1000 Watts to be our highest continuous power
[/quote]


[quote="SimosMCmuffin, post:264, topic:6910"]
Let's say the motor winding resistance is the 7 mOhm so, P = I^2 * R  (Solve for I -&gt;) I = SquareRoot(P / R) = SquareRoot(1000W / 7mOhm) = 377 Amps
[/quote]

and then these values are derived when 1000 Watts is continuous power

[quote="SimosMCmuffin, post:264, topic:6910"]
Pulsed term = 21.6V - 377A - 12.3% **=1000W**
DC term = 21.6V - 46.3A **=1000W**
AC term = 2.65V - 377A **=1000W**
[/quote]

So for example at 0 rpm when you apply full throttle it would set the duty cycle to 12.3%.
And in reality the current is not steady, but swinging about as the coil charges and discharges along with the PWM on- and off-time as seen in @Mathias simulation [http://www.falstad.com/circuit](http://www.falstad.com/circuit/circuitjs.html?cct=%24+1+5e-7+16.81741416518454+63+5+50%0A165+672+272+688+272+0+0%0AR+736+240+736+224+0+0+40+50+0+0+0.5%0AO+800+336+848+336+0%0Aw+672+304+640+304+0%0Ar+640+304+640+240+0+300%0Aw+640+240+736+240+0%0Aw+640+400+672+400+0%0Ac+640+400+640+448+0+0.000003+1.5027949439799493%0Ag+640+448+640+464+0%0Aw+640+368+640+400+0%0Aw+640+368+672+368+0%0Ar+640+304+640+368+0+300%0Ac+864+368+944+368+0+1e-10+2.7228932700042403e-9%0Ar+944+368+1024+368+0+0.007%0Ar+944+416+1024+416+0+0.007%0Al+944+416+864+416+0+0.00009999999999999999+0%0Aw+800+336+800+368+0%0Aw+800+368+864+368+0%0Aw+864+368+864+416+0%0Aw+1024+368+1024+416+0%0Aw+1024+368+1104+368+0%0Aw+1104+368+1104+544+0%0Aw+1104+544+576+544+1%0Aw+576+544+576+448+0%0Aw+576+448+640+448+0%0A172+736+432+736+496+0+6+0+50+0+0+0.5+Voltage%0Ao+15+64+0+679+0.0000762939453125+0.00009765625+0+2%0Ao+16+64+0+551+0.0000762939453125+0.00009765625+1+2%0A)
```

---
## \#272 Posted by: Svenska Posted at: 2016-08-10T19:13:18.984Z Reads: 44

```
I was following this thread. I give that one shot and see if there is anything positive coming out of it. As far as I can see there is people in here that are keen to understand and explain.
And no, by no way am I an expert on this topic. I do understand the fundamentals but I do struggle to fully understand what is going on in the code and why it is happening this way.

The code for "normal" BLDC is here: https://github.com/vedderb/bldc/blob/master/mcpwm.c

For FOC it is here: https://github.com/vedderb/bldc/blob/master/mcpwm_foc.c

And I used to have the link to the whitepaper that Benjamin used somewhere but can't find it atm. If I should find it again I will edit here.
```

---
## \#273 Posted by: SimosMCmuffin Posted at: 2016-08-10T19:23:39.682Z Reads: 48

```
Here's a good video to explain what is the principle in FOC, a bit lenghty, but uses pretty layman terms to explain things.
https://www.youtube.com/watch?v=VI7pdKrchM0

And regarding the code. I have looked at it before and pretty much just raised hands and went "nope!" :grin:, it is very hard to debug and understand such a big project like this.
```

---
## \#274 Posted by: devin Posted at: 2016-08-10T19:27:17.242Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#275 Posted by: SimosMCmuffin Posted at: 2016-08-10T19:27:50.801Z Reads: 44

```
100µH and 100pF
```

---
## \#276 Posted by: PB1 Posted at: 2016-08-10T20:30:15.306Z Reads: 49

```
@devin I will also give it another shot since I re-started this. 

For an proximate calculation of a running motor (not clamped-down) we can go with the simplified model as posted in post 174 of this thread and L=0. So we neglected inductance for the calculation, but we "know" it's there and we follow the rules it sets. 
So we only have Rinternal and Back-Emf voltage produced by RPM and Kv. 

Then a realistic scenario for e.g. @hummie hub motors would look like the following. The blue values are input the brownish values are calculated. There you can see motor and battery current. 

In the VESC you can set individual limits for both of them. If either of these limits is reached, the VESC does a "soft cut-off strategy" as Vedder puts it. I don't care about duty cycle here as this is all calculated by the VESC and there are many more input variables. 
<img src="/uploads/db1493/original/2X/0/085273f10888ffd3ea9845978bc082ae677b6cf7.PNG" width="494" height="500">
```

---
## \#277 Posted by: makevoid Posted at: 2016-08-10T20:31:57.428Z Reads: 49

```
So the code for FOC is shorter than BLDC ? Does this means that the implementation of FOC is easier? (I'm no expert but FOC is ~400 lines less and the even main method of FOC is a bit shorter ~350 vs ~400 lines https://github.com/vedderb/bldc/blob/master/mcpwm_foc.c#L1337  https://github.com/vedderb/bldc/blob/master/mcpwm.c#L1546 - is that a good indication about code complexity? - interesting code though even if it would take me a while to understand that :D )


@PB1 is that google-spreadsheet? do you have and want to share a read-only link you can paste in the forum?
```

---
## \#278 Posted by: PB1 Posted at: 2016-08-10T20:54:22.746Z Reads: 45

```
Yes,  it's a Google sheet and I will share it and the calculations when ready.
```

---
## \#279 Posted by: devin Posted at: 2016-08-10T23:00:26.736Z Reads: 48

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#280 Posted by: devin Posted at: 2016-08-11T01:27:11.340Z Reads: 44

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#281 Posted by: PB1 Posted at: 2016-08-11T05:18:01.289Z Reads: 46

```
Your question is not related to physics.  It is related to software.  
I don't know how the VESC is programmed so I can't answer the question if you phrase it like that.  

I give up again until you release that bloody motor from its vice.  It's supposed to turn,  not supposed to be clamped down.  

EVERYBODY knows that BLDC motors have issues with starting from standstill and that special tricks are needed.  In the end it's an AC synchronous machine not some stupid vice grip. 

If you really want to know,  clamp down one of hummies hubs,  connect a PC to the VESC,  crank your throttle and see what happens. Take a picture and tell us.
```

---
## \#282 Posted by: Mathias Posted at: 2016-08-11T05:39:02.555Z Reads: 42

```
[quote="devin, post:280, topic:6910"]
@Mathias @SimosMCmuffin @PB1   Is this 750 amp value actually an average over time (average per pulse due to current oscillation via inductance & capacitance) with separate peak and minimum values?
[/quote]
Yes, you can see it in the simulation too. Reduce L and the oscillations become larger since i changes faster. (U(t) = L * di/dt). That's why large L makes a constant current (once it is settled, ramping will be slow) a good approximation. It is not a sine, though. More a saw tooth.
```

---
## \#283 Posted by: devin Posted at: 2016-08-11T09:01:28.436Z Reads: 47

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#284 Posted by: PB1 Posted at: 2016-08-11T10:48:33.692Z Reads: 48

```
@Devin, there is no battery amp limit calculation. 

You set your battery amp limit based on your battery. Mainly capacity and C-rating plus common sense. 
Purpose is to protect the battery from pulling too many amps which is not good for the battery. 


There is no battery motor limit calculation. 

You set your motor amp limit based on your motor (and your ESC). 
Purpose is to protect the motor from pulling too many amps and burning the windings (and to protect your ESC, altough in the ESC you probably better set a temperature limit for the Mosfets). 

Those to limits are not related by any calculation method. They are related by good sense. 

And in a well balanced system it could very well be that none of these limit settings limit anything.
```

---
## \#285 Posted by: devin Posted at: 2016-08-11T11:06:38.715Z Reads: 48

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#286 Posted by: Mathias Posted at: 2016-08-11T11:34:20.337Z Reads: 48

```
[quote="devin, post:283, topic:6910"]
@Mathias  How would you calculate the peak pulsed amp value of this pulsed average amps value per pulse in the scenario? What is the peak value?
[/quote]

It is a dynamic situation so: solve the differential equation: U(t) = L * di/dt
U(t) is the voltage over L, wich is U_PWM - U_R = U_PWM - i*R
=> U_PWM - i*R = L * di/dt
```

---
## \#287 Posted by: PB1 Posted at: 2016-08-11T11:53:53.086Z Reads: 53

```
[quote="devin, post:285, topic:6910"]
@PB1 I think I just proved mathematically in the specific scenario I outlined, "750 amp motor limit" is exactly equivalent to "78.3 amp battery limit" on a VESC...
[/quote]

That's simply rubbish! You can't relate those two limit settings.  Especially when considering internal resistance in motor. 
Have a look at the motor and battery currents.
<img src="/uploads/db1493/original/2X/9/978cedbc7dbe9164019596deaf1f137d877d6ad7.PNG" width="503" height="500">
```

---
## \#288 Posted by: devin Posted at: 2016-08-11T11:57:48.254Z Reads: 45

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#289 Posted by: PB1 Posted at: 2016-08-11T13:07:07.200Z Reads: 56

```
That's true. I'm using the numbers I'm using because these are the real number for hummies motor. 

Good thing is I learned to be flexible :-) 

Here with your 0.007 Ohm internal resistance. Better?
<img src="/uploads/db1493/original/2X/4/499c0bf9cae83f025426dcf9645c620c3cd6319c.PNG" width="491" height="500">

Still not sure what you want to prove ...
```

---
## \#290 Posted by: devin Posted at: 2016-08-11T13:18:57.098Z Reads: 51

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#291 Posted by: devin Posted at: 2016-08-11T13:33:12.754Z Reads: 49

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#292 Posted by: PB1 Posted at: 2016-08-11T13:52:54.020Z Reads: 50

```
@devin, we are working with different assumptions!

My assumption is that your calculation is rubbish and that the two current LIMITS are NOT RELATED. 

My sheet and calculation show exactly that. 

Motor and battery current ARE related of course via the overall power. Power in battery = power of motor plus power of motor loss. 
Here two more calculations. Now the settings are that both have your bloody 78 Amp battery limit. Motor current is way different because speed is different. Power in battery is the same. 
Going fast with 78A from battery: 
<img src="/uploads/db1493/original/2X/b/b5a1faedb934276786afdbcd2ef217d02a61a62c.PNG" width="487" height="500">

Going slow with 78A from battery:
<img src="/uploads/db1493/original/2X/1/1cdab1c7147b7ea9f47e7513c9f964264de269fd.PNG" width="489" height="500">
```

---
## \#293 Posted by: devin Posted at: 2016-08-11T13:53:13.114Z Reads: 49

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#294 Posted by: PB1 Posted at: 2016-08-11T14:03:16.900Z Reads: 49

```
sure, see above. 

both my high speed and low speed scenario show exactly that. 
Actual battery current is around 78 amps in both scenarios while motor current is 139 amps when going fast and 390 amps when going slow. 

Power produced in both scenarios is very high! 

And not many motors are going to survive 390 amps ... :yum:
```

---
## \#295 Posted by: devin Posted at: 2016-08-11T14:09:37.289Z Reads: 50

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#296 Posted by: PB1 Posted at: 2016-08-11T14:20:36.994Z Reads: 48

```
On the contrary @devin. 
But in order to do a proper calculation we have to assume a current speed to calculate the voltage inside the motor. 

Your motor will only ever produce this amount of power when accelerating or going up a very steep hill. 

Yes, the power is somewhat unrealistic, but YOU said 78amps battery current. I always said that your scenario is not very realistic!
Cruising at 8kmh will be a lot lower power and we will no way have 78amps.

What was it you wanted to prove?
```

---
## \#297 Posted by: devin Posted at: 2016-08-11T14:24:07.149Z Reads: 52

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#298 Posted by: PB1 Posted at: 2016-08-11T14:31:15.271Z Reads: 53

```
don't know what you want to prove now?

Most people have a battery limit of 40 amps to 50 amps, maybe even a 40 amp fuse. 
The enertion space cell is rated at 40 amps if I'm not mistaken. 

And they can reach 8kmh and higher. What is the issue? 

btw, our motors are rated from 1500 Watts to maybe 2500 Watts.
```

---
## \#299 Posted by: devin Posted at: 2016-08-11T14:33:03.863Z Reads: 55

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#300 Posted by: PB1 Posted at: 2016-08-11T14:52:08.871Z Reads: 59

```
that's just absolute and utter rubbish. 

Of course we can go to 8kmh without exceeding 78 amps battery limit. 
I even stated that most boards have a limit that is even lower and they get to 8 kmh :-) 

You stated yourself about 100 times in this forum that hummie went 44 kmh. 
And we know that his battery limit is 70A as stated in many posts. 

Did you push him with your bike to go to that speed? 

[quote="devin, post:1, topic:5889"]
Rider: @HummieTop Avg Speed: 27.702MPH / 44.582KPH7/7/16 - 7:17pmfull throttle27.702 mph / 44.582 kph avg over .67 mile / 1.078 kilometer loop w/ full speed rolling startcontroller settings: 70/70 amp batter/motor limits battery: 50.37volts @ start - 12s lipo aspec nanotech 5AHrider weight: 155lb / 70.3kilo
[/quote]



Continuing the discussion from [What&#x27;s Your Top Speed?](http://www.electric-skateboard.builders/t/whats-your-top-speed/5889):
```

---
## \#301 Posted by: devin Posted at: 2016-08-11T14:52:27.163Z Reads: 57

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#302 Posted by: PB1 Posted at: 2016-08-11T14:59:55.251Z Reads: 58

```
@devin,  I'm getting bored with this. 

Now you either don't want to understand or you are just trolling. 

Please stop for a while, re-read what has been written, think about it for a while and let it all settle. Then go for a ride. 
This is what I will do.
```

---
## \#303 Posted by: devin Posted at: 2016-08-11T15:01:41.893Z Reads: 63

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#304 Posted by: devin Posted at: 2016-08-11T19:40:19.483Z Reads: 68

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#305 Posted by: devin Posted at: 2016-08-12T01:19:36.552Z Reads: 66

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#306 Posted by: Mathias Posted at: 2016-08-12T05:15:28.752Z Reads: 69

```
[quote="devin, post:305, topic:6910"]
assuming my theory about the relationship between motor & battery amp limits proves correct, I'd like to start using the info right away to help folks program proper Battery & Motor amp limits into their VESC's
[/quote]

That theory is definitely **not correct** ! You were comparing average power values on motor and battery side. The battery and motor **current limits** are completely independent values that are set to ensure the **safe use** of each component! The heat loss in both component is **not** the total power, and even that not the same for the battery and the motor, since the efficiency of motor, ESC, and all other components is <1. 

The current that you can safely pull from a 35C battery uphill is 35C! The motor is more complicated. It has a current limit too. But the generated heat is not proportional to the current, nor is it to the average battery power or motor output power since the efficiency of the motor changes drastically between situations!
```

---
## \#307 Posted by: devin Posted at: 2016-08-12T09:57:47.107Z Reads: 69

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#308 Posted by: Mathias Posted at: 2016-08-12T10:10:38.474Z Reads: 71

```
I think the point that you haven't really wrapped your mind around is that the battery current and the motor current are almost completely independent systems separated by the VESC. There can be a high motor current flowing purely in the system motor <-> VESC without any current from the battery already from the fact that there is inductance. 
On top of that when the motor rotates you do not have these PWM + LCR scenarios but 3 additional sources of an AC voltage leading to the 3-phase-current situation.

So far we only discussed how a coil connected to a PWM signal behaves. This does not yet give you any valuable information on how to set motor or battery current limits.
```

---
## \#309 Posted by: devin Posted at: 2016-08-12T10:13:09.916Z Reads: 73

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#310 Posted by: Mathias Posted at: 2016-08-12T14:31:40.727Z Reads: 75

```
The battery current is completely situational. It can be anything between 0 and the motor current.
```

---
## \#311 Posted by: devin Posted at: 2016-08-12T16:03:25.897Z Reads: 81

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#312 Posted by: devin Posted at: 2016-08-12T20:14:01.905Z Reads: 87

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#313 Posted by: devin Posted at: 2016-08-13T01:58:08.950Z Reads: 106

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#314 Posted by: devin Posted at: 2016-09-14T10:15:10.891Z Reads: 111

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#315 Posted by: devin Posted at: 2016-09-14T10:19:52.026Z Reads: 121

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#316 Posted by: devin Posted at: 2016-09-14T10:30:14.348Z Reads: 141

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#317 Posted by: wildwildwes17 Posted at: 2017-02-21T08:53:14.692Z Reads: 112

```
Hey Devin,
Have you come to any new conclusions? Reading your posts brought me here and made me create this account.  Im going to look in-depth tomorrow after some much needed sleep.  Anyway I came across this vid: https://www.youtube.com/watch?v=wbmEUi2p-nA did you ever play with the PID controller terms? Could it be integral term of the controller that is causing the input signal to get dampened, or maybe the P term which is not high enough to create a fast enough response?
```

---
## \#318 Posted by: Jerome Posted at: 2018-01-08T15:08:11.253Z Reads: 79

```
Unless you use the ackmaniac app, the ESC control the current not the power. Current gives you torque and them speed depending on mechanical resistance.  The power is simply a consequence of all that and equal torque x angular sped.

So I don t understand why some people say that higher volts gives lower amps? It does not make sense
```

---
## \#319 Posted by: SimosMCmuffin Posted at: 2018-01-08T16:22:57.193Z Reads: 79

```
I feel uneasy even coming back to this thread, but the sentence [quote="Jerome, post:318, topic:6910"]
higher volts gives lower amps
[/quote]
essentially the point is that you need lower battery current with higher battery voltage to produce the same power.
```

---
## \#320 Posted by: barajabali Posted at: 2018-01-08T18:38:43.182Z Reads: 80

```
I miss Devin in a weird kinda way
```

---
## \#321 Posted by: Jerome Posted at: 2018-01-08T21:27:43.898Z Reads: 81

```
I fully get that but did you read my thread? 

Skaye are not power controlled they arecurrent controlled. So why does raising the voltage decreases the current?  Power is a consequence of torque * speed , and speed is a function of torque   And the mechanical resistance seen
```

---
## \#322 Posted by: Deckoz Posted at: 2018-01-08T21:41:44.231Z Reads: 88

```
[quote="Jerome, post:321, topic:6910"]
Power is a consequence of torque * speed , and speed is a function of torque   And the mechanical resistance seen
[/quote]


No this conversation is about electrical power, not physical power.

Power is A * V = W

[quote="Deckoz, post:10, topic:41948"]
If you set the  max load watts to be 1512 watts per motor. 
On 10s motor max 42amps is  36v * 42 = 1512w
On 12s motor max 34a is 44.4v * 34a = 1512w~
[/quote]

And here's a lesson with duty cycle.

[quote="Deckoz, post:10, topic:41948"]
For example. Running a high motor Amp max without a watt limit. Let's choose a 100a motor max for simplicity. We have a duty cycle max of .95

Voltage = 42v
Motor max = 100a

At 0.25 duty cycle (42v*.25dc)*100a=1050w
 0.5 duty cycle (42v*.5dc)*100a=2100w
 0.75 duty cycle (42v*.75dc)*100a=3150w
 0.95 duty cycle (42v*.95dc)*100a=3990w

If you set a max watts. You can effectively make the board have really good dig acceleration while taming the top to be smooth. When your rolling at 20mph and reengaging the throttle puts you at about .35-.45 duty cycle. Having 100amps to the motor instantaneously is not ideal. Getting more like 20-45 is smooth. So let's pick 45a max for end throttle taper. 1750w is a nice middle wattage range for 6374 and will keep them running on the cooler side.

Our settings
Voltage = 42v 
Motor max = 100a
Max watts = 1750w

At 0.25 duty cycle (42v*.25dc)*100a=1050w
 0.5 duty cycle 1750w/(42v*.5dc)= 83a
 0.75 duty cycle 1750w/(42v*.75dc)=55.5a
 0.95 duty cycle 1750w/(42v*.95dc)=43.85a
[/quote]


Also this topic... Didn't need to be resurrected at all lol
```

---
## \#323 Posted by: chuttney1 Posted at: 2018-01-08T21:41:54.171Z Reads: 83

```
[quote="Jerome, post:321, topic:6910"]
So why does raising the voltage decreases the current?
[/quote]

This goes back to Ohm's law in the calculation of Power from voltage and current (P=VI). You made an error in one of the basic principles of electricity. Application of the mechanical side of the equation from power is the next step. To what you were saying.
```

---
## \#324 Posted by: Hummie Posted at: 2018-01-08T21:50:35.870Z Reads: 82

```
Maybe Devin4 will come and argue this again but going back to the original question as to whether "volts get converted to amps by the esc", if the motor can potentially be running at low duty cycle pushing way more amps than the battery would contain at its rated voltage, so for example going up a super steep hill at low speed where the effective voltage to the motor will be much lower than that battery...id call that converting volts to amps. He got ten bucks off me on a bet related to this and want it back!
```

---
## \#325 Posted by: Jerome Posted at: 2018-01-08T22:46:15.337Z Reads: 81

```
Power is power. Power IN is very close to the power out ( not considering losses) so the mechanical power is close to Current times BackEMF. Which is close to the battery power. But Power is never constant! Unless it is regulated that way but it often is not:)

I am a designer of high voltage power electronics for variable speed drives and Hvdc lines..... so I know my stuff😃
```

---
## \#326 Posted by: JohnnyMeduse Posted at: 2018-01-08T22:58:18.622Z Reads: 81

```
[quote="Hummie, post:324, topic:6910"]
Devin4
[/quote]

<img src="/uploads/db1493/original/3X/b/6/b6e303775683a75746fcc2bb71779af29446ca41.gif" width="140" height="118">
```

---
## \#327 Posted by: Skifree Posted at: 2018-01-09T00:01:25.836Z Reads: 81

```
Why are all of @devin posts hidden?
```

---
## \#328 Posted by: JohnnyMeduse Posted at: 2018-01-09T00:20:08.565Z Reads: 82

```
There is only a hand full of people that as been ban from this forum, and upon them you can find @devin @devin2 and @devin3
```

---
## \#329 Posted by: squishy654 Posted at: 2018-01-09T00:27:33.459Z Reads: 80

```
I just found this other empty forum, no action, not even cake or chicks..how are his hub motors? Any good?  http://buildelectricboards.com/
```

---
## \#330 Posted by: JohnnyMeduse Posted at: 2018-01-09T00:29:03.455Z Reads: 82

```
They are @Hummie hubs motor
```

---
## \#332 Posted by: chuttney1 Posted at: 2018-01-09T01:00:29.712Z Reads: 80

```
Story Time. Devin was like every user on this forum, but with a passion to find out how the VESC really works. Such as understanding the basic principles of the commuted waveform driving a BLDC motor and the calculations utilized by the DRV830x and STM32F405RTG. Not many users liked how he was going on and on about some so fundamental. There really wasn't anything to prove other than the math running the VESC. That's why he was "grayed" out from this forum. It's educational from one perspective, but it's hard for the average user to put words into action trying to extract as much of the VESC potential. If you follow through and apply what he typed, you make break your VESC.
```

---
## \#333 Posted by: SOICDIP Posted at: 2018-01-09T01:22:08.459Z Reads: 82

```
[quote="chuttney1, post:332, topic:6910, full:true"]
Story Time. Devin was like every user on this forum, but with a passion to find out how the VESC really works. Such as understanding the basic principles of the commuted waveform driving a BLDC motor and the calculations utilized by the DRV830x and STM32F405RTG. Not many users liked how he was going on and on about some so fundamental. There really wasn't anything to prove other than the math running the VESC. That's why he was "grayed" out from this forum. It's educational from one perspective, but it's hard for the average user to put words into action trying to extract as much of the VESC potential. If you follow through and apply what he typed, you make break your VESC.
[/quote]


Flagging and censoring a post because you don't understand it? Hmm...
```

---
## \#334 Posted by: chuttney1 Posted at: 2018-01-09T01:29:19.305Z Reads: 78

```
[quote="SOICDIP, post:333, topic:6910"]
Flagging and censoring a post because you don't understand it? Hmm...
[/quote]

Well, I think it is better to ask the mods why he's "grayed out". I gave my perspective on how I perceived events over time.
```

---
## \#335 Posted by: squishy654 Posted at: 2018-01-09T01:34:48.684Z Reads: 76

```
Lol, information can be dangerious I guess..
```

---
## \#336 Posted by: squishy654 Posted at: 2018-01-09T01:35:24.831Z Reads: 75

```
Sounds like there's a pretty interesting story here I get it if it can't be posted in public though
```

---
## \#337 Posted by: Deckoz Posted at: 2018-01-09T01:41:33.970Z Reads: 78

```
If your account is banned your posts are hidden as if they are flagged. 

Simple.
```

---
## \#338 Posted by: Skifree Posted at: 2018-01-09T02:12:33.636Z Reads: 76

```
Interesting, This whole thread is a bit odd to me. I couldn't tell if it was a troll, or what.
```

---
## \#339 Posted by: ATLesk8 Posted at: 2018-01-09T02:35:00.664Z Reads: 76

```
I bet there are quite a few users/lurkers on here that have been banned and then rejoined with a different user name. I know of a couple and then my tinfoil hat tells me that therefore there are a bunch of these cases.
```

---
## \#340 Posted by: SimosMCmuffin Posted at: 2018-01-09T07:39:35.045Z Reads: 84

```
Oh god it did get resurrected....


----------


[quote="Jerome, post:321, topic:6910"]
I fully get that but did you read my thread?
[/quote]

You didn't link any threads that I'm supposed be reading, so drop a link to it and I'll take a look.

[quote="Jerome, post:321, topic:6910"]
So why does raising the voltage decreases the current?
[/quote]

Ok, we need to first separate two things apart a little. Battery current and motor current, they are linked by power, but due to motor current and voltage being RPM dependent, the motor voltage and current can be very different to DC bus voltage and current. We can start going into more specific examples, but we should at least start making mutual grounds on a higher levels first.

So the sentence "So why does raising the voltage decreases the current?", is true only for DC bus / battery side, but essentially irrelevant motor side. This is a topic that is hard to understand and it took me long time to even get better understanding of it.

----------

Let's make this fun and interesting.
**What do you think Devin's alignment was / How did you perceive Devin's alignment?**
[poll type=regular]
* Lawful good
* Neutral good
* Chaotic good
* Lawful neutral
* True neutral
* Chaotic neutral
* Lawful evil
* Neutral evil
* Chaotic evil
[/poll]
```

---
## \#341 Posted by: Mathias Posted at: 2018-01-09T08:18:50.793Z Reads: 81

```
[quote="SimosMCmuffin, post:340, topic:6910"]
Oh god it did get resurrected....
[/quote]

Oh god no! Deja Vu! I stopped following up on Devin(N) at some point... Normally I'd say: just read. Every answer is written somewhere. But Devin's posts would be too repetitive to read them all even if they weren't flagged, sooooo long story short: most of Devin's stuff was wrong because what he didn't get (at least util the point to which I read his posts):

Motor current is not battery current.
Motor voltage is not battery voltage (there are L, C elements + BEMF)
He totally didn't get how a buck converter works.
```

---
## \#342 Posted by: NAF Posted at: 2018-01-09T08:34:48.013Z Reads: 76

```
Maybe its time for "Free Devin" topic?
```

---
## \#343 Posted by: Jerome Posted at: 2018-01-09T09:37:50.854Z Reads: 72

```
Believe what you will, check the data from your ride telemetry and see if the power is constant. You will see it is not. Do you own test if you have different battery voltages. Youll see voltage only affects your top speed
```

---
## \#344 Posted by: Jerome Posted at: 2018-01-09T09:40:47.768Z Reads: 74

```
I fully agree with you here! This is exactly how I see it

Well done, so it means that current consumption on the motor side will NOT be affected by the voltage of the battery
```

---
## \#345 Posted by: SimosMCmuffin Posted at: 2018-01-09T10:17:41.752Z Reads: 76

```
And the annoying part is, depending on the speaker's perspective: battery or motor side. the statement can either be demonstratively true or false. 

So the problem is usually that the statement is not specific enough to mention which side we are talking about and/or too vague to be able to figure it out from the context.
```

---
## \#346 Posted by: squishy654 Posted at: 2018-01-09T16:48:55.657Z Reads: 70

```
My question I guess is, how much does this information matter to practical application?
```

---
## \#347 Posted by: Pedrodemio Posted at: 2018-01-09T17:06:14.458Z Reads: 71

```
Just adding that most of the information he posted is either wrong or the conclusion was right but the path to get there was completely wrong, most of the times he proved things without a good base knowledge of the subject and spreading not well fundamental hypothesis was causing a lot of misunderstanding from new users that though is was right

I truly believe he had no bad intentions as @SimosMCmuffin poll suggest, but the better approach when you don't know something is to go after well founded sources, get a few books and read through it all
```

---
## \#348 Posted by: squishy654 Posted at: 2018-01-09T17:19:00.008Z Reads: 75

```
I realize humans learn different ways at different speeds. I can relate to him a little because I'm very conceptual and don't even believe in math, analogy works well on me, while others need to literally do the math to understand the physics. It can be very annoying as a trainer to have to cater to someone while there's an entire class ready for step 2. Dissemination of information is an art in itself, we should give ourselves some credit for even attempting such subjects, but also some room to all be human as well..argue the finer points with passion and vigor but remember to share a beer cus your all peers too..it's ok to be human..I thought I was gonna find some crazy explosion or threats and epic trolling or something..this is nothing, lol
```

---
## \#349 Posted by: squishy654 Posted at: 2018-01-09T17:20:50.208Z Reads: 76

```
I would go with a unbiased, "Chaotic yet constructive, not good or bad"
```

---
## \#350 Posted by: devin4 Posted at: 2018-01-09T17:47:06.910Z Reads: 76

```
<p>This post was flagged by the community and is temporarily hidden.</p>
```

---
## \#351 Posted by: TarzanHBK Posted at: 2018-01-09T17:59:53.708Z Reads: 74

```
^jesuschristohgoodno

(slowly pulling out my buddy - @treenutter - card... just a bad feeling what happend next)

<img src="/uploads/db1493/original/3X/9/8/9801005d53dfadb5cc79e9cc7d37717af874afe3.gif" width="245" height="145">
```

---
## \#352 Posted by: monkey32 Posted at: 2018-01-09T18:04:56.046Z Reads: 75

```
This made my day. The man, the myth, the legend.......thank you chaotic friend. Welcome back.
```

---
## \#353 Posted by: SimosMCmuffin Posted at: 2018-01-09T18:08:35.733Z Reads: 76

```
You know. After about... what, a year? I'm okay seeing little Devin once again :grinning:
```

---
## \#354 Posted by: Deckoz Posted at: 2018-01-09T18:10:40.431Z Reads: 73

```
[quote="squishy654, post:348, topic:6910"]
I'm very conceptual and don't even believe in math
[/quote]

You must be an art major. Lol, everything is math, literally everything,  including the emotions you'll feel after reading this response, even they can be calculated and predicted.
```

---
## \#355 Posted by: squishy654 Posted at: 2018-01-09T18:35:31.762Z Reads: 75

```
Whatever, I'm in denial, and you cannot change me, lol...I trust the real world, I embrace the chaos of testing in unforeseen environmental conditions that your math does not even propose to understand and I believe putting any theory into practice is the only way to prove anything, I value failure very much. So do math all day if you please, I'll be shredding and discovering your math doesn't add up...there's a lot of engineers and designers here and you know what they say about asking how to build a bridge in a bar full of engineers, right? We all have our ways..I'll let you do the math...you let me test..we'll see who gets to results quicker and what they might be...the proof is always in the pudding sweetie..by the way, I really missed you stalking my posts, where you been? And no, I'm not an art major, I'm actually a trainer and instructional designer for the state of California...
```

---
## \#356 Posted by: treenutter Posted at: 2018-01-09T18:38:14.090Z Reads: 72

```
Devin - you have already been asked to stop posting here on the forum multiple times. Please find a different venue to share your ideas.
```

---
## \#357 Posted by: JohnnyMeduse Posted at: 2018-01-09T18:42:16.795Z Reads: 71

```
I think we could close that thread... since we are going for a new round of rivality between @Deckoz and @squishy654
```

---
## \#358 Posted by: SORRENTINO Posted at: 2018-01-09T18:45:12.388Z Reads: 74

```
No....I want to see where this goes :joy: Miss read your post....yea close the old one for this one!
```

---
## \#359 Posted by: squishy654 Posted at: 2018-01-09T18:46:49.664Z Reads: 76

```
I agree!!! but wait, what about a three-way?
```

---
## \#360 Posted by: Deckoz Posted at: 2018-01-09T18:59:20.379Z Reads: 85

```
No...I already said what needed to be said. Aside from

[quote="squishy654, post:355, topic:6910"]
unforeseen environmental conditions that your math does not even propose to understand
[/quote]

Those unforseen variables just lead to better math. Your opinion of what you're testing itself is a statistic, which is math, that gets used with other math to solve greater math problems. How do you think we got to the technology age. Better math throughout history. Math is understanding. Science is the utilization of math to narrow the truth to be proven as fact. Science is what you speak of, not believing in math, when science is based on math... Very..odd. As well, that you would join a conversation that is all about math..


I'm done.
```

---
## \#361 Posted by: squishy654 Posted at: 2018-01-09T19:04:15.681Z Reads: 87

```
I love it when someone falls for a obvious troll or a phrase, takes it literally just have something to say like they really need to have something to say...

If you believe I literally do not believe in math then who really has the problem here? lol It's a figure of speech and I bet you understand what that is, and I know you would love to think I'm stupid, but I'm sorry to say you will be proven wrong..
```

---
## \#362 Posted by: squishy654 Posted at: 2018-01-09T19:05:10.497Z Reads: 89

```
Take your "I'm done" and try meaning it this time...
```

---
## \#363 Posted by: JohnnyMeduse Posted at: 2018-01-09T19:05:13.575Z Reads: 89

```
Sorry, I don’t want to sound rude, but I don’t think we are playing in the same level 

Because....

https://m.youtube.com/watch?v=xC03hmS1Brk
```

---
## \#364 Posted by: chuttney1 Posted at: 2018-01-09T19:21:47.737Z Reads: 89

```
Can we finally take a vote to lock this thread up and let it die in usersub?
```

---
## \#365 Posted by: guyguy Posted at: 2018-01-09T19:24:38.346Z Reads: 93

```
[quote="barajabali, post:320, topic:6910, full:true"]
I miss Devin in a weird kinda way
[/quote]

You cannot unsummon once you've summoned.
```

---
## \#366 Posted by: ATLesk8 Posted at: 2018-01-09T19:56:11.748Z Reads: 91

```
I learned my lesson long ago with Biggie Smalls![south-park-s10e11c05-the-ghost-of-biggie-16x9|690x388](upload://9EiRgTYT6iEwcxwakovmgOql5sV.jpg)
```

---
## \#367 Posted by: Hariboisawesome Posted at: 2018-02-17T15:20:40.488Z Reads: 84

```
😯.....😂😂😂 That’s freaking awesome!!! Made my morning brother!
```

---
## \#368 Posted by: squishy654 Posted at: 2018-02-17T18:18:00.568Z Reads: 80

```
@Deckoz we are letting our audience down dude...we gotta find something to argue about again, lol
```

---
## \#369 Posted by: Deckoz Posted at: 2018-02-17T19:01:29.407Z Reads: 75

```
Meh. Rough beginnngs make good friendships. I'm sure we see eye to eye on alot of things. 

Guess we're a bunch of let downs now lol.
```

---
## \#370 Posted by: squishy654 Posted at: 2018-02-17T19:20:04.529Z Reads: 69

```
Lol, I was thinking the same thing..let them eat cake!!
```

---
## \#371 Posted by: PXSS Posted at: 2018-02-17T22:29:20.085Z Reads: 65

```
I missed the party it seems.
```

---
## \#372 Posted by: Hariboisawesome Posted at: 2018-02-18T07:55:03.325Z Reads: 58

```
The I kill people video is Epic y’all!
```

---
