# FOCBOX with AS5047 - serial error

### Replies: 9 Views: 488

## \#1 Posted by: jgeating Posted at: 2018-08-11T16:27:53.677Z Reads: 107

```
I'm trying to get an AS5047 to work with the focbox and I'm getting this error during calibration, after it does all the slow motions, right before it begins the fast jumps: 

Serial port error: The I/O operation has been aborted because of either a thread exit or an application request.

And I can audibly hear the serial port become disconnected in windows. Several seconds later it reconnects. I realized I probably had to remove R8-R13, and C5-C7, and jump R8-R10, which I then did. (See [this](https://www.electric-skateboard.builders/t/my-vesc-with-as5047-sensor-setup/6568/9) thread). Still didn't work. I also noticed H1 and H3 are switched on the Focbox connector from the VESC6, which I've successfully used with the AS5047. I switched them and that didn't work either. I also tried it on as second Focbox to no avail. Any thoughts or ideas? 

Thanks, 
-Josh
```

---
## \#2 Posted by: JTAG Posted at: 2018-08-11T22:35:05.055Z Reads: 80

```
This sounds like an EMC issue, the noise generated by controlling the motor makes the USB crash. You can improve the immunity by connecting the ESC with the beefiest USB cable you have (preferably with those ferrite beads) and use a laptop that is only connected to the ESC and nothing else.
```

---
## \#3 Posted by: jgeating Posted at: 2018-08-11T23:57:05.533Z Reads: 70

```
wow, that actually worked. I didn't have a cable with ferrite beads, but I was using a hub, which I removed, and I physically moved the controller as far from the motor as the cable would allow.
```

---
## \#4 Posted by: Hansg Posted at: 2019-04-07T22:45:59.432Z Reads: 43

```
@jgeating can you help me with this error? I have the same problem with my VESC torqueboards.
```

---
## \#5 Posted by: jgeating Posted at: 2019-04-07T23:13:04.008Z Reads: 38

```
I never found a great fix actually. The hub doesn't actually help usually. For certain versions (pre 6.0 I think) you have to mod the board, removing a few resistors and capacitors. If you're using an AS5047, have you modded your board yet? What version of board are you using?
```

---
## \#6 Posted by: Hansg Posted at: 2019-04-08T01:02:54.959Z Reads: 35

```
Hello @jgeating this is my Vesc  https:///products/torque-esc-bldc-electronic-speed-controller the currently version firmware installed is 3.34
```

---
## \#7 Posted by: jgeating Posted at: 2019-04-08T02:53:52.158Z Reads: 31

```
Yeah, thats 4.XX hardware, so you need to desolder and jumper some things to make it work. You can use this tutorial here: https://www.electric-skateboard.builders/t/my-vesc-with-as5047-sensor-setup/6568

Let me know if you have any questions, but that's probably why it's giving you an error.
```

---
## \#8 Posted by: Hansg Posted at: 2019-04-09T02:55:28.038Z Reads: 25

```
I was sawing the tutorial but I dont understand. I attachment some pictures and setup for my VESC.

![11%20PM|375x500](upload://82apZAhvu7gJEI4PSBUWftNdH1j.jpeg) 

![11%20PM%20(1)|375x500](upload://xZcFWipJXdZwuWDuLyHwrI8xoky.jpeg)

![08-04-2019-10-09-50|690x387](upload://zX3LJPF2F7IZ6A1ioTzX0C0YBpj.png) 

https://tinytake.s3.amazonaws.com/pulse/hans-nserio/attachments/10322556/TinyTake08-04-2019-08-55-25.mp4
```

---
## \#9 Posted by: jgeating Posted at: 2019-04-09T13:51:35.428Z Reads: 18

```
Try taking a look at Vedder's own tutorial here. If that still doesn't make sense, I'll write up something more detailed and post it here. 

https://www.youtube.com/watch?v=8CcqD5sw90U

Also looks like you might have a separate problem of the firmware not uploading (I just skimmed through your video). I vaguely recall that there was some build of the VESC 4.XX hardware that wouldn't let you upload new firmware. I vaguely remember trying to find/download an outdated GUI that would let me tune my motor. I'm pretty sure it was for Enertion though, not DIYElectricSkateboard.
```

---
