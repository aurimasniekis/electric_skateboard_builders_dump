# The MKV2 &#124; VESC &#124; 8S5P li-ion &#124; Drop down deck &#124; 97mm &#124; 60A BMS

### Replies: 21 Views: 5031

## \#1 Posted by: makevoid Posted at: 2016-07-31T22:04:44.591Z Reads: 349

```
This is my second proper build, in short it features:

- VESC in BLDC mode (esk8.de)
- Enertion drive train kit (15T/36T)
- 6372 RSpec Motor
- Drop down deck ([link](http://www.aliexpress.com/item/Yocaher-Punked-Drop-Down-Surfer-Natural-Longboard-Deck/32657304881.html )) [~62 eur]
- 97mm wheels ([link](https://www.amazon.co.uk/gp/product/B00N2P718O/ref=oh_aui_detailpage_o02_s00?ie=UTF8&psc=1)) [~65 eur]
- 8S6P Li-ion 12.5A - edit: updated battery from lipo to li-ion! range is now ~15 miles (~25kmh) in normal condition at moderate speed (18 mph avg cruising speed - 14 mph avg speed counting stops at traffic lights ^^ ) - [8S BMS](http://www.ebay.com/itm/321255670917) -[ INR18650-25R 2500mAh](http://eu.nkon.nl/rechargeable/18650-size/samsung-18650-inr18650-25r.html) - 20A cells with U solder tabs [~170 eur]
- Max speed on flat at full charge: ~37 kmh / ~23 mph 


**Video:**

latest video:

https://youtu.be/13eclkHO-W0

#### https://www.youtube.com/watch?v=p4RvCmPS4NU#

Now this build has become my main one. 
I have this build already ( The MKV #1 http://www.electric-skateboard.builders/t/the-mkv-1-esk8-de-6374-vesc-koston-deck-lipo-6s-5a-psychotillers-enclosure/2298/21 - the MKV #0 has been "decommissioned" ) but I wanted to try a new deck shape, I felt that when I switched to 97mm I was too far away from the ground, that's why I bought this deck


**Deck**
Being used to the Koston deck, which was super stiff and super stable at high speed (which I didn't reach because of 6S, low gearing + FOC) but a bit too far from the ground, changing to this deck was a blast. Much more manuverable, good for carving, a bit wobbly if you're not careful at high speeds but definately I prefer this, it's also lighter but I will probably go with a longer deck and/or a drop-down deck that is not a double drop.

The only problem is that (even if I added some quite thick risers) the (awesome's @RunPlayBack's) enclosure gets scratched a bit on some bumps ( sorry Rick!, the good thing is that I'll probably need to order another one at some point :D ). 


**Circuit + Lipo splitting:**
I currently have a 8S made from x2 4S in series, I switch on the circuit via the anti-spark loop-key, it's alright for now until I can get another anti-spark switch. The 4S packs were made from 2 6S packs that had a bad cell on each of them (went to 0V), I tried to do a 10S (5S in series) but one cell kept disconnecting because I couldn't solder one of the tabs very well. Also I didn't need all that speed (cuz of 97mm wheels), with 8S I feel a bit more torque too which is not bad.
Thanks @Jinra for the goo-gone tip, that worked very well to unglue the lipos.
The lipos are connected also in parallel to allow charging them at once, It's a bit time consuming to open the enclosure, disconnect the esc and connect all the charging cables manually but as I'm going to do a Li-ion battery pack soon (next week hopefully) this solution is alright for now.


**Video**
Here's the HQ version of it: http://mkv-video.s3.amazonaws.com/esk8/mkvbuild2-thames-path-2.mp4 (I have still to figure out why youtube is compressing my vids a bit...)
I tried to do a video from a third person view but my stick is not long enough ( lol :p ), so It's a bit too close to my back, also it seems a bit strange because it looks like I'm going straight instead of sideways, whatever... ^^. Also I didn't orient the camera properly, when I checked on the viewfinder it was ok but then I reset the gimbal because a guy asked some questions and it wasn't pointing down anymore, you can barely see the board unfortunately...

This is the non sped up / no-titles version - https://www.youtube.com/watch?v=3LrWTLx3iW8 Unfortunately on that river path I couldn't hit full throttle. I will do another video of hitting full throttle on good asphalt, for now max speed is 36km/h (~22mph) and I'm pretty happy with it. I'll try to modify the other build to make it a 10S because I feel more comfortable going high speed with that deck than this one.

I will post more videos soon and a web config tool to share VESC settings, exported via the XML Export featur ( If you were wondering why I put a dead link on the video :) ). I'm working on it!  

Other things to note is that I'm back with the old controller and I enjoy it more than the compact one (doesn't loose signal that much + the trigger is more accurate than the thumb control). Also I'm not using the 6374 sensored which is still on the other build and I quite enjoyed that, probably I'll move it to this build at some point...

edit: ouch in the video I put drop trough in the titles instead of drop-down ...
 

**Pictures:**


<img src="/uploads/db1493/original/2X/4/437457dc1e9adc700792371f088e0af3306f5c6f.png" width="690" height="289">



 <img src="/uploads/db1493/original/2X/2/204e6fff38177deb24794c949fb7b77aaa51a2a1.jpg" width="690" height="266">

<img src="/uploads/db1493/original/2X/5/53270de1657891a52b624a79f2683c1acff44c91.jpg" width="690" height="425">

<img src="/uploads/db1493/original/2X/d/d645afeb81e1e19a0c6a28657ea4d7df10c969a5.jpg" width="666" height="500">
```

---
## \#2 Posted by: Titoxd10001 Posted at: 2016-07-31T23:18:30.939Z Reads: 262

```
That looks so dope with 97mm wheels and the deck drop. How much is the drop height?
```

---
## \#3 Posted by: makevoid Posted at: 2016-07-31T23:27:27.670Z Reads: 258

```
Glad you like it! The drop is ~ 4cm.
```

---
## \#4 Posted by: Cptanpanic Posted at: 2016-07-31T23:42:24.246Z Reads: 258

```
You said board carves good, didn't see any video of carving. Can you get some?
```

---
## \#5 Posted by: Mobutusan Posted at: 2016-08-01T17:33:09.728Z Reads: 240

```
@makevoid Nice work! I've got almost the same deck with the same red 97mm wheels. It's definitely still a lowrider with those big wheels though. I had never ridden a drop down deck before, and it's surprisingly carvy and really maneuverable for being so long. I'm running pretty tall 20/40 gearing on 6s, 245kv, and it gets me moving pretty well. Easily 25mph (41kph)+. 

Do you have any clearance issues with the motor mounted inboard like that? It looks really close to the deck. Mines hanging out the back, but I was thinking about mounting it inboard since it looks like it would just barely fit.
```

---
## \#6 Posted by: makevoid Posted at: 2016-08-01T17:37:19.663Z Reads: 221

```
I use pretty high risers (~1cm), if it was a little bit longer I think that it would be perfect, also I would like to try one that is not double drop but just single drop at some point :)
```

---
## \#7 Posted by: makevoid Posted at: 2016-08-02T04:29:52.294Z Reads: 205

```
Li-ion 8S 5P wip.... enertion pro4 enclosure, using the built in spacers to align the cells, worked quite well...

cells in the box from nkon.nl - 40 cells (Samsung INR18650-25R 2500mAh - 20A) + solder tags already spot welded + 2m strips ~ 170 eur - all arrived @ 3.49-3.5V


<img src="/uploads/db1493/original/2X/3/3a62395efe43ed73ef02c10e6199000b36b0e3a8.jpg" width="666" height="500">


strips/cells "assembly line"

<img src="/uploads/db1493/original/2X/6/6ca9a2d7ff6a598f12ef5030a02cfc387ac9a00a.jpg" width="666" height="500">

<img src="/uploads/db1493/original/2X/4/463e1ffa089700dd673143882e4ba4d1363639ac.jpg" width="666" height="500">


<img src="/uploads/db1493/original/2X/2/285a63ce3239923eceac76035f9e9574325e1e5f.jpg" width="690" height="282">

It took me ~3hrs to arrive at this point, very easy to solder the cells without overheating thanks to the solder tabs, I think for 16 eur they're worth it.

next shrink wrap + series connection + BMS, stay tuned :D
```

---
## \#8 Posted by: Maxid Posted at: 2016-08-02T07:06:18.866Z Reads: 186

```
with the solder tabs you have only one layer of nickel connecting the batteries - that is not enough for the currents we use in esk8. One nickle strip is usually suitable for ~15A.
look at @whitepony - he even adds braid copper wire on top of the nickel strips to make it safe.
http://www.alternative-4.com/DIY/spud_freeboard_78.jpg

My opinion: This is not safe!
```

---
## \#9 Posted by: makevoid Posted at: 2016-08-02T07:44:11.348Z Reads: 183

```
Thanks for the tip, you're right it will probably overheat and desolder at the tirst ride :)  I will probably put 12awg wire if I don't find something better at the local hardware shop! At least for now I can test the bms for charging that is one of my main points were I'm unsure if the solution works or not ^^
```

---
## \#10 Posted by: makevoid Posted at: 2016-08-06T03:05:33.686Z Reads: 177

```
update on battery, everything seems well, the [BMS (from sunpower)](http://www.ebay.co.uk/itm/321255670917?_trksid=p2057872.m2749.l2649&ssPageName=STRK%3AMEBIDX%3AIT) even if it is meant originally for a 10S battery seems to work with my 8S as well 

before:

<img src="/uploads/db1493/original/2X/b/b6108b9ab0e6f68a5f221548606b49a28aac743d.jpg" width="690" height="282">

forgot to take the pic after I put the 12awg wire (a bit overkill, probably a wire 4 times smaller would have done the job but that was the only one I had at the moment ^^)

after:

<img src="/uploads/db1493/original/2X/a/ac3ede217ae301786881711c58bdd4e82ab90120.jpg" width="666" height="500">

still waiting for the proper charger + shrinkwrap, I am currently charging it at a conservative voltage (~30.8V) with a 6S li-ion charger through a cheap DCDC [step-up](https://www.amazon.co.uk/gp/product/B00SKP2IJ8/ref=oh_aui_detailpage_o00_s00?ie=UTF8&psc=1) module - I am looking forward to see if at 80% charge I will have the cell balanced or not, then I'll need to test the discharge as well

I soldered the batteries placing them into the space cell enclosure and that gave me the right spacing and positioning. Making the packs this way was easy, because of the shape of the enclosure there's no way they'll move inside it.
```

---
## \#11 Posted by: makevoid Posted at: 2016-08-22T04:43:43.634Z Reads: 156

```
The Li-ion charger arrived, charges with no problem, the 10S BMS works perfectly at 8S, charges and discharges with the correct voltages, I have also a [8S BMS](http://www.ebay.com/itm/321255670917) now but I'll probably keep the 10S as it's already wired. 8S6P gives me zero headeaches in charging the board, finally no need to open enclosure, remove the series connection, connect the lipos in parallel and charge. Now I can finally charge by plugging in a laptop style charger, the 5A version is a bit bulky and also 1kg, I couldn't find a 3/4A quick charger that weighs less than a kilo (basically to stop at a starbucks and charge from ~40 to ~80% in ~1h instead of ~2h, cause to charge overnight my[ current 2A charger](http://www.ebay.com/itm/221896637604?_trksid=p2057872.m2749.l2649&ssPageName=STRK%3AMEBIDX%3AIT) is ok, but also [a charger that weighs 1.1kg i](http://www.ebay.com/itm/33-6V-5A-8S-Lithium-ion-Battery-Pack-Charger-for-8x-3-6V-3-7V-Li-ion-28V-29V-/221784414202?hash=item33a36197fa:m:moqRIk5zQ8m3arcVSDyQUww)s hard to carry ).

At the end the pack costed me ~170 eur (~190 usd) shipment included and http://eu.nkon.nl/rechargeable/18650-size/samsung-18650-inr18650-25r.html (I ordered 42 cells to have 2 spares, all the cells arrived at 3.7V+- 0.05v) , I ordered also U solder tabs and 2 meter of nickel strip so I was able to solder everything with a standard soldering iron (40w) without overheating the cells too much.

Here's the new video showing the enclosure at the end:

https://www.youtube.com/watch?v=13eclkHO-W0


(6 miles [ride](http://www.movescount.com/moves/move119339352#!) in the video) still plenty of battery left, at 30% -> 20% VESC cuts off (voltages cut offs 3.51 -> 3.31 per cell)

max range 15 miles (not riding conservatively but also not very aggressively, from 100% to 25% charge)




**VESC settings**

[link](http://config.esk8.it/#{"pwm_mode":1,"comm_mode":0,"motor_type":0,"sensor_mode":0,"l_current_max":60,"l_current_min":-50,"l_in_current_max":50,"l_in_current_min":-25,"l_abs_current_max":130,"l_min_erpm":-100000,"l_max_erpm":100000,"l_max_erpm_fbrake":300,"l_max_erpm_fbrake_cc":1500,"l_min_vin":8,"l_max_vin":57,"l_battery_cut_start":28.08,"l_battery_cut_end":26.48,"l_slow_abs_current":1,"l_rpm_lim_neg_torque":1,"l_temp_fet_start":80,"l_temp_fet_end":100,"l_temp_motor_start":80,"l_temp_motor_end":100,"l_min_duty":0.005,"l_max_duty":0.95,"sl_min_erpm":100,"sl_min_erpm_cycle_int_limit":1100,"sl_max_fullbreak_current_dir_change":10,"sl_cycle_int_limit":105,"sl_cycle_int_limit_high_fac":0.8,"sl_cycle_int_rpm_br":80000,"sl_bemf_coupling_k":600,"hall_table_0":-1,"hall_table_1":1,"hall_table_2":3,"hall_table_3":2,"hall_table_4":5,"hall_table_5":6,"hall_table_6":4,"hall_table_7":-1,"hall_sl_erpm":2000,"foc_current_kp":0.03,"foc_current_ki":50,"foc_f_sw":20000,"foc_dt_us":0.08,"foc_encoder_inverted":0,"foc_encoder_offset":180,"foc_encoder_ratio":7,"foc_sensor_mode":0,"foc_pll_kp":2000,"foc_pll_ki":20000,"foc_motor_l":0.000007,"foc_motor_r":0.015,"foc_motor_flux_linkage":0.00245,"foc_observer_gain":90000000,"foc_duty_dowmramp_kp":10,"foc_duty_dowmramp_ki":200,"foc_openloop_rpm":1200,"foc_sl_openloop_hyst":0.5,"foc_sl_openloop_time":0.5,"foc_sl_d_current_duty":0,"foc_sl_d_current_factor":0,"foc_hall_table_0":255,"foc_hall_table_1":255,"foc_hall_table_2":255,"foc_hall_table_3":255,"foc_hall_table_4":255,"foc_hall_table_5":255,"foc_hall_table_6":255,"foc_hall_table_7":255,"foc_sl_erpm":2500,"s_pid_kp":0.0001,"s_pid_ki":0.015,"s_pid_kd":0,"s_pid_min_rpm":900,"p_pid_kp":0.03,"p_pid_ki":0,"p_pid_kd":0.0004,"p_pid_ang_div":1,"cc_startup_boost_duty":0.07,"cc_min_current":1,"cc_gain":0.0046,"cc_ramp_step_max":0.04,"m_fault_stop_time_ms":3000,"m_duty_ramp_step":0.02,"m_duty_ramp_step_rpm_lim":0.0005,"m_current_backoff_gain":0.5,"m_encoder_counts":8192,"m_sensor_port_mode":0}|)

summary (current limits): 

    ----------------------------------------------------
    Motor max                                 : 60
    ----------------------------------------------------
    Motor min (regen)                         : -50
    ----------------------------------------------------
    Batt max                                  : 50
    ----------------------------------------------------
    Batt min (regen)                          : -25
    ----------------------------------------------------
    Battery cutoff start                      : 28.08  (8S li-ion)
    ----------------------------------------------------
    Battery cutoff end                        : 26.48  (8S li-ion)
    ----------------------------------------------------

basic BLDC parameters: 

    ----------------------------------------------------
    Sensorless min RPM: 100
    ----------------------------------------------------
    Integrator limit: 1100
    ----------------------------------------------------
    BEMF coupling: 600
    ----------------------------------------------------





And some pics:

 <img src="/uploads/db1493/original/2X/2/204e6fff38177deb24794c949fb7b77aaa51a2a1.jpg" width="690" height="266">

<img src="/uploads/db1493/original/2X/5/53270de1657891a52b624a79f2683c1acff44c91.jpg" width="690" height="425">

<img src="/uploads/db1493/original/2X/d/d645afeb81e1e19a0c6a28657ea4d7df10c969a5.jpg" width="666" height="500">


motor cabling is very  temporary lol :D - also anti spark switch will be installed this week as soon as it arrives
```

---
## \#12 Posted by: Jinra Posted at: 2016-08-22T08:21:36.188Z Reads: 133

```
If you're running standard 18650s in 6p, why do you have your battery max at 25? This pack should output 120a continuous, but 80A comfortably.
```

---
## \#13 Posted by: makevoid Posted at: 2016-08-22T10:00:43.464Z Reads: 140

```
You are right, there was a bug in the config web app that caused the app not to parse the values correctly (on ff or mobile webkit) and that picked the default value of 25 - well spotted, it should be fixed now ;) 

my battery max is 50A ^^
```

---
## \#14 Posted by: makevoid Posted at: 2016-08-23T23:09:24.318Z Reads: 134

```
I would like to switch the enertion 6372/6374 motor with the sensored 6374 (esk8.de) but It's currently stuck (a lot of green threadlock and not enough space to grab the pulley with my current battery terminal puller) on my other enertion mount, I would like to remove the pulley without breaking the carbon fiber piece of the mount but I don't have a battery terminal / motor pulley remover, can somebody suggest one that is able to grab the pulley in 1-2mm of space or another method I could try to remove it, should I try to grind the pulley with an angle grinder? I tried to heat the pulley up but it's not coming out. Thanks in advance!

<img src="/uploads/db1493/original/2X/4/430be3646d8ac257f337065c147487724b268fe0.jpg" width="690" height="484">

---

---

---

---

edit: a pic from inside

<img src="/uploads/db1493/original/2X/7/7717b441cb2bb06835777cec3eb3c6edb8a7dd3a.jpg" width="425" height="500">

pretty much everything crammed in a tiny space, added heatsinks on the VESC, they help, probably having an air convection system will definately help too (the simplest is probably an air extractor (small pc fan or a blower fan) into the enclosure near/over the vesc to keep the vesc cool - I think it would help because at 8S (and with me being not conservative on the controller and being ~220lbs) the esc needs to dissipate a lot of heat, if it runs cool you can keep going at a good speed everywhere as long as you have power from your battery - because if the esc overheats it will cut power to prevent that, and you'll have less acceleration/torque/speed at the end
```

---
## \#15 Posted by: Mobutusan Posted at: 2016-08-28T07:09:11.615Z Reads: 112

```
@makevoid Did you ever get your pulley off? I've found success with loosening or removing the grub screw, and then riding until the pulley starts spinning on the shaft, or with the belt drive connected, just grab the motor can and wheel and work it back and forth until the pulley breaks loose.
```

---
## \#16 Posted by: makevoid Posted at: 2016-08-28T07:25:15.852Z Reads: 107

```
Thanks for the tip! I think there's a lot of green threadlocker in there, I put quite a big amount of that because there's no keyway / grub screw and with few drops it was coming loose... I think I will need to break the cf bit of the  mount, use the battery terminal puller to remove the pulley and buy another motor mount from enertion for my other build
```

---
## \#17 Posted by: Titoxd10001 Posted at: 2016-08-28T07:37:28.422Z Reads: 103

```
Maybe cut the pulley in half with a dremel tool. If it's steel it will take a lot of work but doable
```

---
## \#18 Posted by: makevoid Posted at: 2016-08-28T07:39:50.126Z Reads: 105

```
y i have an angle grinder, it will be trickier but I could attempt it, thanks!
```

---
## \#19 Posted by: Jinra Posted at: 2016-08-28T08:58:33.076Z Reads: 104

```
What I've done with stubborn pulleys is heating it up a good bit then wedging a flat tip screwdriver in between and prying it off.
```

---
## \#20 Posted by: Print3r Posted at: 2017-05-05T08:54:10.782Z Reads: 57

```
Thinking of making a board with the same batteries but in 8s5p format, is the range still good on the board (by how many miles has it degraded each year). Also in London, do you advise riding on the road (bus lane) or pavement or cycle lane? Your board looks really good btw.
```

---
## \#21 Posted by: makevoid Posted at: 2017-05-05T14:45:43.194Z Reads: 57

```
thanks, I assembled a new  battery this year and I'm not using this build so much so I couldn't see much range "degradation" yet, also I usually never discharge it to < 20%  

I expect that  when the range will drop ~30% on my [main board](https://www.electric-skateboard.builders/t/mkv3-carvon-2-5v-dual-97mm-vescs-10s4p-li-ion/18119) I will need to change the cells. I think it will happen in 1-2y maybe? I don't know. 

For London I recommend cycle routes and parks, non trafficked roads are good and generally rush hours (~6pm) are bad for both roads and cycle routes - check google maps with biking trails overlay enabled and tfl cycle routes (+ "cycle superhighways") maps, they're both helpful

I'm also slowly making a video "series" of possible commutes in the south/east part of london, check [my youtube](https://www.youtube.com/user/makevoid/videos)  for those
```

---
